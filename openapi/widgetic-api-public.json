{
  "openapi": "3.0.0",
  "info": {
    "title": "Widgetic API Gateway",
    "version": "1.0.0",
    "description": "API documentation for the Widgetic API Gateway"
  },
  "servers": [
    {
      "url": "http://localhost:3000/api/v1",
      "description": "Development server",
      "variables": {
        "env": {
          "default": "development",
          "description": "Environment"
        },
        "apiUrl": {
          "default": "http://localhost:3000",
          "description": "API URL"
        },
        "apiBaseUrl": {
          "default": "/api/v1",
          "description": "API Base URL"
        }
      }
    }
  ],
  "paths": {
    "/analytics/events/bulk": {
      "post": {
        "summary": "Create multiple analytics events in bulk",
        "description": "Create multiple analytics events in a single request for improved performance.\nMaximum 100 events per bulk operation.\n\n**TypeScript SDK Example:**\n```typescript\nimport { WidgeticSDK } from '@widgetic/api-sdk';\n\nconst sdk = new WidgeticSDK({ apiKey: 'your-api-key' });\n\n// Create multiple events in bulk\nconst events = await sdk.analytics.createEventsBulk([\n  {\n    composition_id: 'comp_123',\n    event_type: 'view',\n    user_id: 'user_456',\n    session_id: 'sess_789'\n  },\n  {\n    composition_id: 'comp_123',\n    event_type: 'interaction',\n    event_data: { button_id: 'submit' },\n    user_id: 'user_456',\n    session_id: 'sess_789'\n  }\n]);\n\nconsole.log(`Created ${events.length} events`);\n```\n",
        "tags": [
          "Analytics"
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "events": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/NewAnalyticsEvent"
                    },
                    "minItems": 1,
                    "maxItems": 100,
                    "description": "Array of events to create (max 100)"
                  }
                },
                "required": [
                  "events"
                ]
              },
              "examples": {
                "bulk_events": {
                  "summary": "Multiple analytics events",
                  "value": {
                    "events": [
                      {
                        "composition_id": "comp_123",
                        "event_type": "view",
                        "user_id": "user_456",
                        "session_id": "sess_789"
                      },
                      {
                        "composition_id": "comp_123",
                        "event_type": "interaction",
                        "event_data": {
                          "button_id": "submit"
                        },
                        "user_id": "user_456",
                        "session_id": "sess_789"
                      }
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Analytics events created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/EventsTimeline"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request body or too many events"
          },
          "401": {
            "description": "Authentication required"
          },
          "403": {
            "description": "Access denied"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/batch/process": {
      "post": {
        "operationId": "processBatch",
        "summary": "Process Batch Operations",
        "description": "Processes multiple operations in a single request.\nThis endpoint allows you to batch multiple API calls together to reduce network overhead.\nEach operation in the batch is executed sequentially.\n",
        "tags": [
          "Batch"
        ],
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "operations"
                ],
                "properties": {
                  "operations": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/BatchOperation"
                    },
                    "description": "Array of operations to process"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Batch operations processed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "results": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/BatchResult"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid batch request format"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Operation not allowed"
          }
        },
        "x-code-samples": [
          {
            "lang": "TypeScript",
            "label": "TypeScript SDK",
            "source": "import { Configuration, BatchApi } from '@widgetic/typescript-sdk';\n\nconst config = new Configuration({\n  apiKey: 'YOUR_API_KEY'\n});\n\nconst batchApi = new BatchApi(config);\n\ntry {\n  const response = await batchApi.processBatch({\n    processBatchRequest: {\n      operations: [\n        {\n          method: 'POST',\n          path: '/widgets',\n          body: {\n            name: 'New Widget',\n            type: 'example'\n          }\n        },\n        {\n          method: 'PUT',\n          path: '/widgets/123',\n          body: {\n            name: 'Updated Widget'\n          }\n        },\n        {\n          method: 'GET',\n          path: '/compositions/456'\n        }\n      ]\n    }\n  });\n  \n  // Process results\n  response.results.forEach((result, index) => {\n    if (result.success) {\n      console.log(`Operation ${index} succeeded:`, result.data);\n    } else {\n      console.error(`Operation ${index} failed:`, result.error);\n    }\n  });\n} catch (error) {\n  if (error.response?.status === 400) {\n    console.error('Invalid batch request:', error.response.data);\n  } else if (error.response?.status === 403) {\n    console.error('Operation not allowed');\n  } else {\n    console.error('Batch processing failed:', error);\n  }\n}\n"
          },
          {
            "lang": "TypeScript",
            "label": "Batch Get Compositions Example",
            "source": "import { Configuration, BatchApi } from '@widgetic/typescript-sdk';\n\nconst config = new Configuration({\n  apiKey: 'YOUR_API_KEY'\n});\n\nconst batchApi = new BatchApi(config);\n\n// Example: Get multiple compositions in a single batch request\ntry {\n  const response = await batchApi.processBatch({\n    processBatchRequest: {\n      operations: [\n        {\n          method: 'GET',\n          path: '/compositions/123'\n        },\n        {\n          method: 'GET',\n          path: '/compositions/456'\n        },\n        {\n          method: 'GET',\n          path: '/compositions/789'\n        }\n      ]\n    }\n  });\n  \n  // Process results\n  response.results.forEach((result, index) => {\n    if (result.success) {\n      console.log(`Composition ${index} data:`, result.data);\n    } else {\n      console.error(`Failed to get composition ${index}:`, result.error);\n    }\n  });\n} catch (error) {\n  console.error('Batch processing failed:', error);\n}\n"
          }
        ]
      }
    },
    "/canvases": {
      "get": {
        "operationId": "getAllCanvases",
        "summary": "Get All Canvases",
        "description": "Retrieves all canvases with pagination support and filtering options.",
        "tags": [
          "Canvases"
        ],
        "x-resource-path": "canvases",
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "Page number for pagination"
          },
          {
            "in": "query",
            "name": "size",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 20
            },
            "description": "Number of items per page"
          },
          {
            "in": "query",
            "name": "sort",
            "schema": {
              "type": "string",
              "default": "created_at:desc"
            },
            "description": "Sort field and direction (e.g., \"created_at:desc\")"
          },
          {
            "in": "query",
            "name": "component_id",
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Filter canvases by a specific component ID"
          },
          {
            "in": "query",
            "name": "widget_components",
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Filter canvases by widget components ID"
          },
          {
            "in": "query",
            "name": "created_after",
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "description": "Filter canvases created after the specified date (ISO 8601 format)"
          },
          {
            "in": "query",
            "name": "created_before",
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "description": "Filter canvases created before the specified date (ISO 8601 format)"
          },
          {
            "in": "query",
            "name": "updated_after",
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "description": "Filter canvases updated after the specified date (ISO 8601 format)"
          },
          {
            "in": "query",
            "name": "updated_before",
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "description": "Filter canvases updated before the specified date (ISO 8601 format)"
          }
        ],
        "responses": {
          "200": {
            "description": "List of canvases retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Canvas"
                      }
                    },
                    "page": {
                      "type": "integer",
                      "example": 1
                    },
                    "size": {
                      "type": "integer",
                      "example": 20
                    },
                    "total": {
                      "type": "integer",
                      "description": "Total number of canvases matching the criteria",
                      "example": 50
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "x-code-samples": [
          {
            "lang": "TypeScript",
            "label": "TypeScript SDK",
            "source": "import { Configuration, CanvasesApi } from '@widgetic/typescript-sdk';\n\nconst config = new Configuration({\n  apiKey: 'YOUR_API_KEY'\n});\n\nconst canvasesApi = new CanvasesApi(config);\n\ntry {\n  // Get canvases with component filter\n  const { data, total } = await canvasesApi.getAllCanvases({\n    componentId: \"123e4567-e89b-12d3-a456-426614174000\",\n    page: 1,\n    size: 20\n  });\n  console.log(`Found ${total} canvases with the specified component`);\n} catch (error) {\n  console.error('Failed to fetch canvases:', error);\n}\n"
          }
        ]
      },
      "post": {
        "operationId": "createCanvas",
        "summary": "Create Canvas",
        "description": "Creates a new canvas with the specified properties.",
        "tags": [
          "Canvases"
        ],
        "x-resource-path": "canvases",
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateCanvasRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Canvas created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Canvas"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "x-code-samples": [
          {
            "lang": "TypeScript",
            "label": "TypeScript SDK",
            "source": "import { Configuration, CanvasesApi } from '@widgetic/typescript-sdk';\n\nconst config = new Configuration({\n  apiKey: 'YOUR_API_KEY'\n});\n\nconst canvasesApi = new CanvasesApi(config);\n\ntry {\n  const canvas = await canvasesApi.createCanvas({\n    createCanvasRequest: {\n      persistence_key: \"canvas_xyz123\",\n      canvas_content: { version: 1, elements: [], settings: {} },\n      widget_components: \"123e4567-e89b-12d3-a456-426614174001\"\n    }\n  });\n  console.log('Created canvas:', canvas);\n} catch (error) {\n  console.error('Failed to create canvas:', error);\n}\n"
          }
        ]
      }
    },
    "/canvases/{id}": {
      "get": {
        "operationId": "getCanvas",
        "summary": "Get Canvas",
        "description": "Retrieves a specific canvas by ID.",
        "tags": [
          "Canvases"
        ],
        "x-resource-path": "canvases",
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the canvas"
          }
        ],
        "responses": {
          "200": {
            "description": "Canvas retrieved successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Canvas not found"
          }
        }
      },
      "put": {
        "operationId": "updateCanvas",
        "summary": "Update Canvas",
        "description": "Updates an existing canvas with the specified properties.",
        "tags": [
          "Canvases"
        ],
        "x-resource-path": "canvases",
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the canvas to update"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateCanvasRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Canvas updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Canvas"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Canvas not found"
          }
        },
        "x-code-samples": [
          {
            "lang": "TypeScript",
            "label": "TypeScript SDK",
            "source": "import { Configuration, CanvasesApi } from '@widgetic/typescript-sdk';\n\nconst config = new Configuration({\n  apiKey: 'YOUR_API_KEY'\n});\n\nconst canvasesApi = new CanvasesApi(config);\n\ntry {\n  const canvas = await canvasesApi.updateCanvas({\n    id: \"123e4567-e89b-12d3-a456-426614174000\",\n    updateCanvasRequest: {\n      persistence_key: \"updated_canvas_xyz123\",\n      canvas_content: { version: 2, elements: [{\"id\": \"elem1\"}], settings: {\"theme\": \"dark\"} }\n    }\n  });\n  console.log('Updated canvas:', canvas);\n} catch (error) {\n  console.error('Failed to update canvas:', error);\n}\n"
          }
        ]
      },
      "delete": {
        "operationId": "deleteCanvas",
        "summary": "Delete Canvas",
        "description": "Deletes a canvas.",
        "tags": [
          "Canvases"
        ],
        "x-resource-path": "canvases",
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the canvas"
          }
        ],
        "responses": {
          "200": {
            "description": "Canvas deleted successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Canvas not found"
          }
        }
      }
    },
    "/canvases/{canvasId}/components": {
      "get": {
        "operationId": "getComponents",
        "summary": "Get All Components",
        "description": "Retrieves all components for a canvas with pagination support.",
        "tags": [
          "Components"
        ],
        "x-resource-path": "components",
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "canvasId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the canvas"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "Page number for pagination"
          },
          {
            "in": "query",
            "name": "size",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 20
            },
            "description": "Number of items per page"
          },
          {
            "in": "query",
            "name": "sort",
            "schema": {
              "type": "string"
            },
            "description": "Sort field and direction (e.g., \"created_at:desc\")"
          }
        ],
        "responses": {
          "200": {
            "description": "List of components retrieved successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Canvas not found"
          }
        }
      },
      "post": {
        "operationId": "createComponent",
        "summary": "Create Component",
        "description": "Creates a new component for a canvas with the specified properties.",
        "tags": [
          "Components"
        ],
        "x-resource-path": "components",
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "canvasId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the canvas to create a component for"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateComponentRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Component created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Component"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Canvas not found"
          }
        },
        "x-code-samples": [
          {
            "lang": "TypeScript",
            "label": "TypeScript SDK",
            "source": "import { Configuration, ComponentsApi } from '@widgetic/typescript-sdk';\n\nconst config = new Configuration({\n  apiKey: 'YOUR_API_KEY'\n});\n\nconst componentsApi = new ComponentsApi(config);\n\ntry {\n  const component = await componentsApi.createComponent({\n    canvasId: \"123e4567-e89b-12d3-a456-426614174001\",\n    createComponentRequest: {\n      name: \"Chart Component\",\n      widget_id: \"123e4567-e89b-12d3-a456-426614174002\",\n      is_widget: true,\n      description: \"A data visualization component\"\n    }\n  });\n  console.log('Created component:', component);\n} catch (error) {\n  console.error('Failed to create component:', error);\n}\n"
          }
        ]
      }
    },
    "/canvases/{canvasId}/components/{componentId}": {
      "get": {
        "operationId": "getComponent",
        "summary": "Get Component",
        "description": "Retrieves a specific component by ID.",
        "tags": [
          "Components"
        ],
        "x-resource-path": "components",
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "canvasId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the canvas"
          },
          {
            "in": "path",
            "name": "componentId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the component"
          }
        ],
        "responses": {
          "200": {
            "description": "Component retrieved successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Component not found"
          }
        }
      },
      "put": {
        "operationId": "updateComponent",
        "summary": "Update Component",
        "description": "Updates an existing component with the specified properties.",
        "tags": [
          "Components"
        ],
        "x-resource-path": "components",
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "canvasId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the canvas containing the component"
          },
          {
            "in": "path",
            "name": "componentId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the component to update"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateComponentRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Component updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Component"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Component not found"
          }
        },
        "x-code-samples": [
          {
            "lang": "TypeScript",
            "label": "TypeScript SDK",
            "source": "import { Configuration, ComponentsApi } from '@widgetic/typescript-sdk';\n\nconst config = new Configuration({\n  apiKey: 'YOUR_API_KEY'\n});\n\nconst componentsApi = new ComponentsApi(config);\n\ntry {\n  const component = await componentsApi.updateComponent({\n    canvasId: \"123e4567-e89b-12d3-a456-426614174001\",\n    componentId: \"123e4567-e89b-12d3-a456-426614174000\",\n    updateComponentRequest: {\n      name: \"Updated Chart Component\",\n      description: \"An updated data visualization component\"\n    }\n  });\n  console.log('Updated component:', component);\n} catch (error) {\n  console.error('Failed to update component:', error);\n}\n"
          }
        ]
      },
      "delete": {
        "operationId": "deleteComponent",
        "summary": "Delete Component",
        "description": "Deletes a component.",
        "tags": [
          "Components"
        ],
        "x-resource-path": "components",
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "canvasId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the canvas"
          },
          {
            "in": "path",
            "name": "componentId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the component"
          }
        ],
        "responses": {
          "200": {
            "description": "Component deleted successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Component not found"
          }
        }
      }
    },
    "/widgets/{widgetId}/components": {
      "get": {
        "operationId": "getComponentsByWidgetId",
        "summary": "Get Components By Widget ID",
        "description": "Retrieves all components associated with a specific widget with pagination support.",
        "tags": [
          "Components"
        ],
        "x-resource-path": "components",
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "widgetId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the widget"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "Page number for pagination"
          },
          {
            "in": "query",
            "name": "size",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 20
            },
            "description": "Number of items per page"
          },
          {
            "in": "query",
            "name": "sort",
            "schema": {
              "type": "string",
              "default": "created_at:desc"
            },
            "description": "Sort field and direction (e.g., \"created_at:desc\")"
          }
        ],
        "responses": {
          "200": {
            "description": "List of components retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Component"
                      }
                    },
                    "page": {
                      "type": "integer",
                      "example": 1
                    },
                    "size": {
                      "type": "integer",
                      "example": 20
                    },
                    "total": {
                      "type": "integer",
                      "description": "Total number of components matching the criteria",
                      "example": 50
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Widget not found"
          }
        },
        "x-code-samples": [
          {
            "lang": "TypeScript",
            "label": "TypeScript SDK",
            "source": "import { Configuration, ComponentsApi } from '@widgetic/typescript-sdk';\n\nconst config = new Configuration({\n  apiKey: 'YOUR_API_KEY'\n});\n\nconst componentsApi = new ComponentsApi(config);\n\ntry {\n  const { data, page, size, total } = await componentsApi.getComponentsByWidgetId({\n    widgetId: \"123e4567-e89b-12d3-a456-426614174002\",\n    page: 1,\n    size: 20,\n    sort: \"created_at:desc\"\n  });\n  console.log(`Found ${total} components, showing page ${page} with ${data.length} items`);\n} catch (error) {\n  console.error('Failed to fetch components:', error);\n}\n"
          }
        ]
      }
    },
    "/component/{componentId}": {
      "get": {
        "operationId": "getComponentById",
        "summary": "Get Component By ID",
        "description": "Retrieves a specific component directly by its ID without requiring a canvas ID.",
        "tags": [
          "Components"
        ],
        "x-resource-path": "components",
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "componentId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the component to retrieve"
          }
        ],
        "responses": {
          "200": {
            "description": "Component retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Component"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Component not found"
          }
        },
        "x-code-samples": [
          {
            "lang": "TypeScript",
            "label": "TypeScript SDK",
            "source": "import { Configuration, ComponentsApi } from '@widgetic/typescript-sdk';\n\nconst config = new Configuration({\n  apiKey: 'YOUR_API_KEY'\n});\n\nconst componentsApi = new ComponentsApi(config);\n\ntry {\n  const component = await componentsApi.getComponentById({\n    componentId: \"123e4567-e89b-12d3-a456-426614174000\"\n  });\n  console.log('Retrieved component:', component);\n} catch (error) {\n  console.error('Failed to retrieve component:', error);\n}\n"
          }
        ]
      }
    },
    "/compositions": {
      "get": {
        "operationId": "getAllCompositions",
        "summary": "Get All Compositions",
        "description": "Retrieves all compositions with pagination support.",
        "tags": [
          "Compositions"
        ],
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "Page number for pagination"
          },
          {
            "in": "query",
            "name": "size",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 20
            },
            "description": "Number of items per page"
          },
          {
            "in": "query",
            "name": "sort",
            "schema": {
              "type": "string"
            },
            "description": "Sort field and direction (e.g., \"createdAt:desc\")"
          }
        ],
        "responses": {
          "200": {
            "description": "List of compositions retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Composition"
                      }
                    },
                    "page": {
                      "type": "integer"
                    },
                    "size": {
                      "type": "integer"
                    },
                    "total": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "x-code-samples": [
          {
            "lang": "TypeScript",
            "label": "TypeScript SDK",
            "source": "import { Configuration, CompositionsApi } from '@widgetic/typescript-sdk';\n\nconst config = new Configuration({\n  apiKey: 'YOUR_API_KEY'\n});\n\nconst compositionsApi = new CompositionsApi(config);\n\ntry {\n  const response = await compositionsApi.getAllCompositions({\n    page: 1,\n    size: 20,\n    sort: 'createdAt:desc'\n  });\n  \n  console.log('Compositions:', response.data);\n  console.log('Total:', response.total);\n  console.log('Current page:', response.page);\n} catch (error) {\n  if (error.response?.status === 401) {\n    console.error('Authentication required');\n  } else {\n    console.error('Failed to fetch compositions:', error);\n  }\n}\n"
          }
        ]
      },
      "post": {
        "operationId": "createComposition",
        "summary": "Create Composition",
        "description": "Creates a new composition.",
        "tags": [
          "Compositions"
        ],
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "type",
                  "content"
                ],
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "type": {
                    "type": "string"
                  },
                  "content": {
                    "type": "object"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Composition created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Composition"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "x-code-samples": [
          {
            "lang": "TypeScript",
            "label": "TypeScript SDK",
            "source": "import { Configuration, CompositionsApi } from '@widgetic/typescript-sdk';\n\nconst config = new Configuration({\n  apiKey: 'YOUR_API_KEY'\n});\n\nconst compositionsApi = new CompositionsApi(config);\n\ntry {\n  const composition = await compositionsApi.createComposition({\n    createCompositionRequest: {\n      name: 'My New Composition',\n      type: 'template',\n      content: {\n        layout: 'default',\n        components: []\n      }\n    }\n  });\n  \n  console.log('Created composition:', composition);\n} catch (error) {\n  if (error.response?.status === 400) {\n    console.error('Invalid input:', error.response.data);\n  } else {\n    console.error('Failed to create composition:', error);\n  }\n}\n"
          }
        ]
      }
    },
    "/compositions/{id}/duplicate": {
      "post": {
        "operationId": "duplicateComposition",
        "summary": "Duplicate Composition",
        "description": "Creates a duplicate of an existing composition for the authenticated user.",
        "tags": [
          "Compositions"
        ],
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the composition to duplicate"
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "Optional new name for the duplicate (defaults to \"Copy of [original name]\")",
                    "example": "My Duplicated Composition"
                  },
                  "includeDatabase": {
                    "type": "boolean",
                    "description": "Whether to duplicate the associated database (default false)",
                    "default": false
                  }
                }
              }
            }
          }
        },
        "responses": {
          "202": {
            "description": "Composition duplication initiated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "operationId": {
                          "type": "string",
                          "format": "uuid",
                          "description": "ID of the operation tracking the duplication process",
                          "example": "123e4567-e89b-12d3-a456-426614174000"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Source composition not found"
          }
        },
        "x-code-samples": [
          {
            "lang": "TypeScript",
            "label": "TypeScript SDK",
            "source": "import { Configuration, CompositionsApi } from '@widgetic/typescript-sdk';\n\nconst config = new Configuration({\n  apiKey: 'YOUR_API_KEY'\n});\n\nconst compositionsApi = new CompositionsApi(config);\n\ntry {\n  const duplicated = await compositionsApi.duplicateComposition({\n    id: 'composition_123',\n    duplicateRequest: {\n      name: 'My Duplicated Composition',\n      includeDatabase: false\n    }\n  });\n  console.log('Duplicated composition:', duplicated.data);\n  if (duplicated.warnings?.length) {\n    console.warn('Warnings:', duplicated.warnings);\n  }\n} catch (error) {\n  if (error.response?.status === 404) {\n    console.error('Source composition not found');\n  } else {\n    console.error('Failed to duplicate composition:', error);\n  }\n}\n"
          }
        ]
      }
    },
    "/compositions/{id}/versions": {
      "get": {
        "operationId": "getCompositionVersions",
        "summary": "Get Composition Versions",
        "description": "Retrieves version history for a specific composition.",
        "tags": [
          "Compositions"
        ],
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Composition ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Version history retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/CompositionVersion"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Composition not found"
          }
        },
        "x-code-samples": [
          {
            "lang": "TypeScript",
            "label": "TypeScript SDK",
            "source": "import { Configuration, CompositionsApi } from '@widgetic/typescript-sdk';\n\nconst config = new Configuration({\n  apiKey: 'YOUR_API_KEY'\n});\n\nconst compositionsApi = new CompositionsApi(config);\n\ntry {\n  const versions = await compositionsApi.getCompositionVersions({\n    id: 'composition_123'  // The ID of the composition\n  });\n  \n  console.log('Version history:', versions);\n  \n  // Access specific version details\n  versions.forEach(version => {\n    console.log(`Version ${version.version}:`, {\n      createdAt: version.created_at,\n      content: version.content\n    });\n  });\n} catch (error) {\n  if (error.response?.status === 404) {\n    console.error('Composition not found');\n  } else {\n    console.error('Failed to fetch versions:', error);\n  }\n}\n"
          }
        ]
      }
    },
    "/compositions/{id}/status": {
      "put": {
        "operationId": "updateCompositionStatus",
        "summary": "Update Composition Status",
        "description": "Updates the status of a specific composition.",
        "tags": [
          "Compositions"
        ],
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Composition ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "status"
                ],
                "properties": {
                  "status": {
                    "type": "string",
                    "enum": [
                      "draft",
                      "published",
                      "archived"
                    ],
                    "description": "New status to set"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Status updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Composition"
                }
              }
            }
          },
          "400": {
            "description": "Invalid status"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Composition not found"
          }
        },
        "x-code-samples": [
          {
            "lang": "TypeScript",
            "label": "TypeScript SDK",
            "source": "import { Configuration, CompositionsApi } from '@widgetic/typescript-sdk';\n\nconst config = new Configuration({\n  apiKey: 'YOUR_API_KEY'\n});\n\nconst compositionsApi = new CompositionsApi(config);\n\ntry {\n  const composition = await compositionsApi.updateCompositionStatus({\n    id: 'composition_123',\n    updateStatusRequest: {\n      status: 'published'\n    }\n  });\n  console.log('Status updated:', composition.status);\n} catch (error) {\n  if (error.response?.status === 404) {\n    console.error('Composition not found');\n  } else {\n    console.error('Failed to update status:', error);\n  }\n}\n"
          }
        ]
      }
    },
    "/compositions/{id}": {
      "get": {
        "operationId": "getCompositionById",
        "summary": "Get Composition",
        "description": "Retrieves a specific composition by its ID.",
        "tags": [
          "Compositions"
        ],
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Composition ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Composition retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Composition"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Composition not found"
          }
        },
        "x-code-samples": [
          {
            "lang": "TypeScript",
            "label": "TypeScript SDK",
            "source": "import { Configuration, CompositionsApi } from '@widgetic/typescript-sdk';\n\nconst config = new Configuration({\n  apiKey: 'YOUR_API_KEY'\n});\n\nconst compositionsApi = new CompositionsApi(config);\n\ntry {\n  const composition = await compositionsApi.getCompositionById({\n    id: 'composition_123'  // The ID of the composition to retrieve\n  });\n  console.log('Composition:', composition);\n} catch (error) {\n  if (error.response?.status === 404) {\n    console.error('Composition not found');\n  } else {\n    console.error('Failed to fetch composition:', error);\n  }\n}\n"
          }
        ]
      },
      "put": {
        "operationId": "updateComposition",
        "summary": "Update Composition",
        "description": "Updates a specific composition.",
        "tags": [
          "Compositions"
        ],
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Composition ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "content": {
                    "type": "object"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Composition updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Composition"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Composition not found"
          }
        },
        "x-code-samples": [
          {
            "lang": "TypeScript",
            "label": "TypeScript SDK",
            "source": "import { Configuration, CompositionsApi } from '@widgetic/typescript-sdk';\n\nconst config = new Configuration({\n  apiKey: 'YOUR_API_KEY'\n});\n\nconst compositionsApi = new CompositionsApi(config);\n\ntry {\n  const composition = await compositionsApi.updateComposition({\n    id: 'composition_123',\n    updateCompositionRequest: {\n      name: 'Updated Composition',\n      content: {\n        // Updated content object\n      }\n    }\n  });\n  console.log('Updated composition:', composition);\n} catch (error) {\n  if (error.response?.status === 404) {\n    console.error('Composition not found');\n  } else {\n    console.error('Failed to update composition:', error);\n  }\n}\n"
          }
        ]
      },
      "delete": {
        "operationId": "deleteComposition",
        "summary": "Delete Composition",
        "description": "Deletes a specific composition.",
        "tags": [
          "Compositions"
        ],
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "The ID of the composition to delete"
          }
        ],
        "responses": {
          "204": {
            "description": "Composition deleted successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Not authorized to delete this composition"
          },
          "404": {
            "description": "Composition not found"
          }
        },
        "x-code-samples": [
          {
            "lang": "TypeScript",
            "label": "TypeScript SDK",
            "source": "import { Configuration, CompositionsApi } from '@widgetic/typescript-sdk';\n\nconst config = new Configuration({\n  apiKey: 'YOUR_API_KEY'\n});\n\nconst compositionsApi = new CompositionsApi(config);\n\ntry {\n  await compositionsApi.deleteComposition({\n    id: 'composition_123'  // The ID of the composition to delete\n  });\n  console.log('Composition deleted successfully');\n} catch (error) {\n  if (error.response?.status === 404) {\n    console.error('Composition not found');\n  } else if (error.response?.status === 403) {\n    console.error('Not authorized to delete this composition');\n  } else {\n    console.error('Failed to delete composition:', error);\n  }\n}\n"
          }
        ]
      }
    },
    "/compositions/{id}/design": {
      "get": {
        "operationId": "getCompositionDesign",
        "summary": "Get Composition Design",
        "description": "Retrieves only the design field from a composition.",
        "tags": [
          "Compositions"
        ],
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "required": true,
            "description": "ID of the composition"
          }
        ],
        "responses": {
          "200": {
            "description": "Design data retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Composition not found"
          }
        }
      }
    },
    "/compositions/{id}/content": {
      "get": {
        "operationId": "getCompositionContent",
        "summary": "Get Current Content",
        "description": "Retrieves the current content of a composition",
        "tags": [
          "Compositions"
        ],
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "required": true,
            "description": "ID of the composition"
          }
        ],
        "responses": {
          "200": {
            "description": "Current content retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Composition not found"
          }
        },
        "x-resource-path": "compositions"
      },
      "put": {
        "operationId": "setDynamicContent",
        "summary": "Set Dynamic Content",
        "description": "Updates the content of a composition dynamically with optional schema validation",
        "tags": [
          "Compositions"
        ],
        "x-resource-path": "compositions",
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the composition"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "content": {
                    "type": "object",
                    "description": "Content data to set"
                  },
                  "validate": {
                    "type": "boolean",
                    "description": "Whether to validate content against widget schema",
                    "default": true
                  },
                  "partial": {
                    "type": "boolean",
                    "description": "Whether to merge with existing content (true) or replace entirely (false)",
                    "default": false
                  },
                  "version": {
                    "type": "string",
                    "description": "Optional version identifier for the content"
                  },
                  "source": {
                    "type": "string",
                    "description": "Source of the update for tracking purposes"
                  }
                },
                "required": [
                  "content"
                ],
                "example": {
                  "content": {
                    "title": "Dynamic Title",
                    "items": [
                      {
                        "image": "https://example.com/image1.jpg",
                        "title": "Product 1"
                      }
                    ]
                  },
                  "validate": true,
                  "partial": true,
                  "source": "ecommerce-api"
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Content updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "validationResult": {
                      "type": "object",
                      "properties": {
                        "valid": {
                          "type": "boolean"
                        },
                        "errors": {
                          "type": "array",
                          "items": {
                            "type": "object"
                          }
                        },
                        "warnings": {
                          "type": "array",
                          "items": {
                            "type": "object"
                          }
                        }
                      }
                    },
                    "compositionUpdated": {
                      "type": "boolean"
                    },
                    "realtimeUpdateSent": {
                      "type": "boolean"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid content or validation failed"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Composition not found"
          }
        }
      }
    },
    "/compositions/{id}/embed-settings": {
      "get": {
        "operationId": "getCompositionEmbedSettings",
        "summary": "Get Composition Embed Settings",
        "description": "Retrieves only the embedSettings field from a composition.",
        "tags": [
          "Compositions"
        ],
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "required": true,
            "description": "ID of the composition"
          }
        ],
        "responses": {
          "200": {
            "description": "Embed settings retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Composition not found"
          }
        }
      }
    },
    "/compositions/{id}/database/{table}": {
      "get": {
        "operationId": "getCompositionDatabaseRecords",
        "summary": "Get All Records From Composition Database Table",
        "description": "Retrieves all records from a specific table in the composition's database.",
        "tags": [
          "Compositions"
        ],
        "x-resource-path": "compositions",
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the composition"
          },
          {
            "in": "path",
            "name": "table",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Name of the database table"
          }
        ],
        "responses": {
          "200": {
            "description": "Records retrieved successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Composition or table not found"
          }
        }
      },
      "post": {
        "operationId": "createCompositionDatabaseRecord",
        "summary": "Create Record In Composition Database",
        "description": "Creates a new record in a table in the composition's database.",
        "tags": [
          "Compositions"
        ],
        "x-resource-path": "compositions",
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the composition"
          },
          {
            "in": "path",
            "name": "table",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Name of the database table"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Record created successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Composition or table not found"
          }
        }
      }
    },
    "/compositions/{id}/database/{table}/{recordId}": {
      "get": {
        "operationId": "getCompositionDatabaseRecord",
        "summary": "Get Record From Composition Database",
        "description": "Retrieves a specific record from a table in the composition's database.",
        "tags": [
          "Compositions"
        ],
        "x-resource-path": "compositions",
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the composition"
          },
          {
            "in": "path",
            "name": "table",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Name of the database table"
          },
          {
            "in": "path",
            "name": "recordId",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID of the record to retrieve"
          }
        ],
        "responses": {
          "200": {
            "description": "Record retrieved successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Composition, table, or record not found"
          }
        }
      },
      "put": {
        "operationId": "updateCompositionDatabaseRecord",
        "summary": "Update Record In Composition Database",
        "description": "Updates a specific record in a table in the composition's database.",
        "tags": [
          "Compositions"
        ],
        "x-resource-path": "compositions",
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the composition"
          },
          {
            "in": "path",
            "name": "table",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Name of the database table"
          },
          {
            "in": "path",
            "name": "recordId",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID of the record to update"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Record updated successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Composition, table, or record not found"
          }
        }
      },
      "delete": {
        "operationId": "deleteCompositionDatabaseRecord",
        "summary": "Delete Record From Composition Database",
        "description": "Deletes a specific record from a table in the composition's database.",
        "tags": [
          "Compositions"
        ],
        "x-resource-path": "compositions",
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the composition"
          },
          {
            "in": "path",
            "name": "table",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Name of the database table"
          },
          {
            "in": "path",
            "name": "recordId",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID of the record to delete"
          }
        ],
        "responses": {
          "200": {
            "description": "Record deleted successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Composition, table, or record not found"
          }
        }
      }
    },
    "/compositions/{id}/content/validate": {
      "post": {
        "operationId": "validateCompositionContent",
        "summary": "Validate Content",
        "description": "Validates content against the composition's widget schema without updating",
        "tags": [
          "Compositions"
        ],
        "x-resource-path": "compositions",
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the composition"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "description": "Content to validate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Validation completed",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "valid": {
                      "type": "boolean"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    },
                    "warnings": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    },
                    "sanitizedContent": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Composition not found"
          }
        }
      }
    },
    "/compositions/{id}/schema/content": {
      "get": {
        "operationId": "getCompositionContentSchema",
        "summary": "Get Content Schema",
        "description": "Retrieves the content schema for a composition based on its widget type",
        "tags": [
          "Compositions"
        ],
        "x-resource-path": "compositions",
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the composition"
          }
        ],
        "responses": {
          "200": {
            "description": "Content schema retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "version": {
                      "type": "string"
                    },
                    "widgetType": {
                      "type": "string"
                    },
                    "type": {
                      "type": "string"
                    },
                    "content": {
                      "type": "object"
                    },
                    "contentItems": {
                      "type": "object"
                    },
                    "metadata": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Composition not found"
          }
        }
      }
    },
    "/compositions/{id}/schema/design": {
      "get": {
        "operationId": "getCompositionDesignSchema",
        "summary": "Get Design Schema",
        "description": "Retrieves the design schema for a composition based on its widget type",
        "tags": [
          "Compositions"
        ],
        "x-resource-path": "compositions",
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the composition"
          }
        ],
        "responses": {
          "200": {
            "description": "Design schema retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "version": {
                      "type": "string"
                    },
                    "widgetType": {
                      "type": "string"
                    },
                    "type": {
                      "type": "string"
                    },
                    "theme": {
                      "type": "object"
                    },
                    "componentGroups": {
                      "type": "array",
                      "description": "Component groups schema",
                      "items": {
                        "type": "object",
                        "description": "Component group definition"
                      }
                    },
                    "metadata": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Composition not found"
          }
        }
      }
    },
    "/compositions/{id}/access": {
      "get": {
        "operationId": "checkCompositionAccess",
        "summary": "Check Composition Access",
        "description": "Checks if the authenticated user can access a specific composition based on workspace context and permissions.",
        "tags": [
          "Compositions"
        ],
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Composition ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Access check completed",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "canAccess": {
                      "type": "boolean",
                      "description": "Whether the user can access the composition"
                    },
                    "reason": {
                      "type": "string",
                      "description": "Reason for access decision"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Composition not found"
          }
        }
      }
    },
    "/compositions/batch": {
      "post": {
        "operationId": "getCompositionsBatch",
        "summary": "Get Compositions Batch",
        "description": "Retrieves multiple compositions by their IDs in a single request.\nThis endpoint includes domain validation for embed contexts and is used by the embed SDK.\n",
        "tags": [
          "Compositions"
        ],
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "compositionIds"
                ],
                "properties": {
                  "compositionIds": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "format": "uuid"
                    },
                    "description": "Array of composition IDs to retrieve",
                    "maxItems": 50
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Compositions retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "compositions": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Composition"
                      }
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "error": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Domain access denied"
          }
        }
      }
    },
    "/canvases/{canvasId}/components/{componentId}/conversations": {
      "get": {
        "operationId": "getConversations",
        "summary": "Get All Conversations",
        "description": "Retrieves all conversations for a component with pagination support.",
        "tags": [
          "Conversations"
        ],
        "x-resource-path": "conversations",
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "canvasId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the canvas"
          },
          {
            "in": "path",
            "name": "componentId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the component"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "Page number for pagination"
          },
          {
            "in": "query",
            "name": "size",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 20
            },
            "description": "Number of items per page"
          },
          {
            "in": "query",
            "name": "sort",
            "schema": {
              "type": "string"
            },
            "description": "Sort field and direction (e.g., \"created_at:desc\")"
          }
        ],
        "responses": {
          "200": {
            "description": "List of conversations retrieved successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Component not found"
          }
        }
      },
      "post": {
        "operationId": "createConversation",
        "summary": "Create Conversation",
        "description": "Creates a new conversation for a component.",
        "tags": [
          "Conversations"
        ],
        "x-resource-path": "conversations",
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "canvasId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the canvas"
          },
          {
            "in": "path",
            "name": "componentId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the component"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateConversationRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Conversation created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Conversation"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Component not found"
          }
        },
        "x-code-samples": [
          {
            "lang": "TypeScript",
            "label": "TypeScript SDK",
            "source": "import { Configuration, ConversationsApi } from '@widgetic/typescript-sdk';\n\nconst config = new Configuration({\n  apiKey: 'YOUR_API_KEY'\n});\n\nconst conversationsApi = new ConversationsApi(config);\n\ntry {\n  const conversation = await conversationsApi.createConversation({\n    canvasId: \"123e4567-e89b-12d3-a456-426614174000\",\n    componentId: \"123e4567-e89b-12d3-a456-426614174001\",\n    createConversationRequest: {\n      title: \"Feature Discussion\",\n      completed: false\n    }\n  });\n  console.log('Created conversation:', conversation);\n} catch (error) {\n  console.error('Failed to create conversation:', error);\n}\n"
          }
        ]
      }
    },
    "/canvases/{canvasId}/components/{componentId}/conversations/{conversationId}": {
      "get": {
        "operationId": "getConversation",
        "summary": "Get Conversation",
        "description": "Retrieves a specific conversation by ID.",
        "tags": [
          "Conversations"
        ],
        "x-resource-path": "conversations",
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "canvasId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the canvas"
          },
          {
            "in": "path",
            "name": "componentId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the component"
          },
          {
            "in": "path",
            "name": "conversationId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the conversation"
          }
        ],
        "responses": {
          "200": {
            "description": "Conversation retrieved successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Conversation not found"
          }
        }
      },
      "put": {
        "operationId": "updateConversation",
        "summary": "Update Conversation",
        "description": "Updates an existing conversation with the specified properties.",
        "tags": [
          "Conversations"
        ],
        "x-resource-path": "conversations",
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "canvasId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the canvas"
          },
          {
            "in": "path",
            "name": "componentId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the component"
          },
          {
            "in": "path",
            "name": "conversationId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the conversation to update"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateConversationRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Conversation updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Conversation"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Conversation not found"
          }
        },
        "x-code-samples": [
          {
            "lang": "TypeScript",
            "label": "TypeScript SDK",
            "source": "import { Configuration, ConversationsApi } from '@widgetic/typescript-sdk';\n\nconst config = new Configuration({\n  apiKey: 'YOUR_API_KEY'\n});\n\nconst conversationsApi = new ConversationsApi(config);\n\ntry {\n  const conversation = await conversationsApi.updateConversation({\n    canvasId: \"123e4567-e89b-12d3-a456-426614174000\",\n    componentId: \"123e4567-e89b-12d3-a456-426614174001\",\n    conversationId: \"123e4567-e89b-12d3-a456-426614174002\",\n    updateConversationRequest: {\n      title: \"Updated Feature Discussion\",\n      completed: true\n    }\n  });\n  console.log('Updated conversation:', conversation);\n} catch (error) {\n  console.error('Failed to update conversation:', error);\n}\n"
          }
        ]
      },
      "delete": {
        "operationId": "deleteConversation",
        "summary": "Delete Conversation",
        "description": "Deletes a conversation and all its associated messages and content.",
        "tags": [
          "Conversations"
        ],
        "x-resource-path": "conversations",
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "canvasId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the canvas"
          },
          {
            "in": "path",
            "name": "componentId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the component"
          },
          {
            "in": "path",
            "name": "conversationId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the conversation"
          }
        ],
        "responses": {
          "200": {
            "description": "Conversation, its messages, and content deleted successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeletedConversationResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Conversation not found"
          }
        }
      }
    },
    "/entitlements": {
      "get": {
        "operationId": "getUserEntitlements",
        "summary": "Get user entitlements",
        "description": "Retrieves all entitlements for the authenticated user.",
        "tags": [
          "Entitlements"
        ],
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "query",
            "name": "includeExpired",
            "schema": {
              "type": "boolean"
            },
            "description": "Include expired entitlements in results"
          },
          {
            "in": "query",
            "name": "feature",
            "schema": {
              "type": "string"
            },
            "description": "Filter by specific feature"
          },
          {
            "in": "query",
            "name": "source",
            "schema": {
              "type": "string"
            },
            "description": "Filter by entitlement source"
          }
        ],
        "responses": {
          "200": {
            "description": "User entitlements retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "user_id": {
                      "type": "string",
                      "format": "uuid",
                      "example": "123e4567-e89b-12d3-a456-426614174001"
                    },
                    "entitlements": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Entitlement"
                      }
                    }
                  }
                },
                "example": {
                  "user_id": "123e4567-e89b-12d3-a456-426614174001",
                  "entitlements": [
                    {
                      "id": "123e4567-e89b-12d3-a456-426614174000",
                      "user_id": "123e4567-e89b-12d3-a456-426614174001",
                      "feature": "plan.standard",
                      "source": "subscription",
                      "created_at": "2023-01-01T00:00:00Z"
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "x-code-samples": [
          {
            "lang": "TypeScript",
            "label": "TypeScript SDK",
            "source": "import { Configuration, EntitlementsApi } from '@widgetic/typescript-sdk';\n\nconst config = new Configuration({\n  apiKey: 'YOUR_API_KEY'\n});\n\nconst entitlementsApi = new EntitlementsApi(config);\n\ntry {\n  const entitlements = await entitlementsApi.getUserEntitlements();\n  console.log('User entitlements:', entitlements);\n} catch (error) {\n  console.error('Failed to fetch entitlements:', error);\n}\n"
          }
        ]
      }
    },
    "/entitlements/check/{feature}": {
      "get": {
        "operationId": "checkEntitlement",
        "summary": "Check specific entitlement",
        "description": "Checks if the authenticated user has a specific entitlement.",
        "tags": [
          "Entitlements"
        ],
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "feature",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Feature to check entitlement for",
            "example": "plan.standard"
          }
        ],
        "responses": {
          "200": {
            "description": "Entitlement check completed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EntitlementCheck"
                },
                "example": {
                  "user_id": "123e4567-e89b-12d3-a456-426614174001",
                  "feature": "plan.standard",
                  "entitled": true,
                  "entitlement": {
                    "id": "123e4567-e89b-12d3-a456-426614174000",
                    "user_id": "123e4567-e89b-12d3-a456-426614174001",
                    "feature": "plan.standard",
                    "source": "subscription",
                    "created_at": "2023-01-01T00:00:00Z"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "x-code-samples": [
          {
            "lang": "TypeScript",
            "label": "TypeScript SDK",
            "source": "import { Configuration, EntitlementsApi } from '@widgetic/typescript-sdk';\n\nconst config = new Configuration({\n  apiKey: 'YOUR_API_KEY'\n});\n\nconst entitlementsApi = new EntitlementsApi(config);\n\ntry {\n  const result = await entitlementsApi.checkEntitlement({\n    feature: 'plan.standard'\n  });\n  console.log('Entitlement check:', result);\n} catch (error) {\n  console.error('Failed to check entitlement:', error);\n}\n"
          }
        ]
      }
    },
    "/partners/{partnerId}/entitlements": {
      "get": {
        "operationId": "getPartnerEntitlements",
        "summary": "Get partner entitlements",
        "description": "Retrieves all entitlements for a partner (admin or partner access).",
        "tags": [
          "Entitlements"
        ],
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "partner",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "partnerId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Partner ID"
          },
          {
            "in": "query",
            "name": "includeExpired",
            "schema": {
              "type": "boolean"
            },
            "description": "Include expired entitlements in results"
          },
          {
            "in": "query",
            "name": "feature",
            "schema": {
              "type": "string"
            },
            "description": "Filter by specific feature"
          },
          {
            "in": "query",
            "name": "source",
            "schema": {
              "type": "string"
            },
            "description": "Filter by entitlement source"
          }
        ],
        "responses": {
          "200": {
            "description": "Partner entitlements retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "partner_id": {
                      "type": "string",
                      "format": "uuid",
                      "example": "123e4567-e89b-12d3-a456-426614174002"
                    },
                    "entitlements": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Entitlement"
                      }
                    }
                  }
                },
                "example": {
                  "partner_id": "123e4567-e89b-12d3-a456-426614174002",
                  "entitlements": [
                    {
                      "id": "123e4567-e89b-12d3-a456-426614174005",
                      "partner_id": "123e4567-e89b-12d3-a456-426614174002",
                      "feature": "whitelabeling.advanced",
                      "source": "contract",
                      "created_at": "2023-01-01T00:00:00Z"
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - You don't have permission to access these entitlements"
          }
        },
        "x-code-samples": [
          {
            "lang": "TypeScript",
            "label": "TypeScript SDK",
            "source": "import { Configuration, EntitlementsApi } from '@widgetic/typescript-sdk';\n\nconst config = new Configuration({\n  apiKey: 'YOUR_API_KEY'\n});\n\nconst entitlementsApi = new EntitlementsApi(config);\n\ntry {\n  const entitlements = await entitlementsApi.getPartnerEntitlements({\n    partnerId: '123e4567-e89b-12d3-a456-426614174002'\n  });\n  console.log('Partner entitlements:', entitlements);\n} catch (error) {\n  console.error('Failed to fetch partner entitlements:', error);\n}\n"
          }
        ]
      },
      "put": {
        "operationId": "updatePartnerEntitlements",
        "summary": "Update partner entitlements",
        "description": "Updates entitlements for a partner (admin access only).",
        "tags": [
          "Entitlements"
        ],
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "admin",
        "parameters": [
          {
            "in": "path",
            "name": "partnerId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Partner ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "entitlements"
                ],
                "properties": {
                  "entitlements": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "required": [
                        "feature"
                      ],
                      "properties": {
                        "feature": {
                          "type": "string",
                          "description": "Feature identifier",
                          "example": "whitelabeling.advanced"
                        },
                        "value": {
                          "type": "string",
                          "description": "Value or limit for this feature",
                          "example": "unlimited"
                        },
                        "expires_at": {
                          "type": "string",
                          "format": "date-time",
                          "description": "When this entitlement expires",
                          "example": "2024-12-31T23:59:59Z"
                        }
                      }
                    }
                  },
                  "source": {
                    "type": "string",
                    "description": "Source of the entitlements",
                    "default": "manual",
                    "example": "contract"
                  },
                  "source_id": {
                    "type": "string",
                    "description": "ID of the source object",
                    "example": "contract_123"
                  }
                }
              },
              "example": {
                "entitlements": [
                  {
                    "feature": "whitelabeling.advanced",
                    "expires_at": null
                  },
                  {
                    "feature": "api.access",
                    "expires_at": "2024-12-31T23:59:59Z"
                  }
                ],
                "source": "contract",
                "source_id": "contract_123"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Partner entitlements updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "partner_id": {
                      "type": "string",
                      "format": "uuid",
                      "example": "123e4567-e89b-12d3-a456-426614174002"
                    },
                    "entitlements": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Entitlement"
                      }
                    },
                    "updated_at": {
                      "type": "string",
                      "format": "date-time",
                      "example": "2023-05-15T10:24:33Z"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request data"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Admin access required"
          }
        },
        "x-code-samples": [
          {
            "lang": "TypeScript",
            "label": "TypeScript SDK",
            "source": "import { Configuration, EntitlementsApi } from '@widgetic/typescript-sdk';\n\nconst config = new Configuration({\n  apiKey: 'YOUR_API_KEY'\n});\n\nconst entitlementsApi = new EntitlementsApi(config);\n\ntry {\n  const result = await entitlementsApi.updatePartnerEntitlements({\n    partnerId: '123e4567-e89b-12d3-a456-426614174002',\n    updatePartnerEntitlements: {\n      entitlements: [\n        {\n          feature: 'whitelabeling.advanced',\n          expires_at: null\n        },\n        {\n          feature: 'api.access',\n          expires_at: '2024-12-31T23:59:59Z'\n        }\n      ],\n      source: 'contract',\n      source_id: 'contract_123'\n    }\n  });\n  console.log('Updated entitlements:', result);\n} catch (error) {\n  console.error('Failed to update entitlements:', error);\n}\n"
          }
        ]
      }
    },
    "/managed-users/{managedUserId}/entitlements": {
      "get": {
        "operationId": "getManagedUserEntitlements",
        "summary": "Get managed user entitlements",
        "description": "Retrieves all entitlements for a managed user (admin or partner access).",
        "tags": [
          "Entitlements"
        ],
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "partner",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "managedUserId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Managed user ID"
          },
          {
            "in": "query",
            "name": "includeExpired",
            "schema": {
              "type": "boolean"
            },
            "description": "Include expired entitlements in results"
          },
          {
            "in": "query",
            "name": "feature",
            "schema": {
              "type": "string"
            },
            "description": "Filter by specific feature"
          },
          {
            "in": "query",
            "name": "source",
            "schema": {
              "type": "string"
            },
            "description": "Filter by entitlement source"
          }
        ],
        "responses": {
          "200": {
            "description": "Managed user entitlements retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "managed_user_id": {
                      "type": "string",
                      "format": "uuid",
                      "example": "123e4567-e89b-12d3-a456-426614174003"
                    },
                    "entitlements": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Entitlement"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - You don't have permission to access these entitlements"
          }
        },
        "x-code-samples": [
          {
            "lang": "TypeScript",
            "label": "TypeScript SDK",
            "source": "import { Configuration, EntitlementsApi } from '@widgetic/typescript-sdk';\n\nconst config = new Configuration({\n  apiKey: 'YOUR_API_KEY'\n});\n\nconst entitlementsApi = new EntitlementsApi(config);\n\ntry {\n  const entitlements = await entitlementsApi.getManagedUserEntitlements({\n    managedUserId: '123e4567-e89b-12d3-a456-426614174003'\n  });\n  console.log('Managed user entitlements:', entitlements);\n} catch (error) {\n  console.error('Failed to fetch managed user entitlements:', error);\n}\n"
          }
        ]
      }
    },
    "/managed-users": {
      "get": {
        "operationId": "getAllManagedUsers",
        "summary": "Get Managed Users",
        "description": "Retrieve all managed users with pagination support.",
        "tags": [
          "Managed Users"
        ],
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "partner",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "Page number for pagination"
          },
          {
            "in": "query",
            "name": "size",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 10
            },
            "description": "Number of items per page"
          },
          {
            "in": "query",
            "name": "sort",
            "schema": {
              "type": "string",
              "default": "created_at:desc"
            },
            "description": "Sort field and direction (e.g., \"created_at:desc\")"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful retrieval of managed users",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/ManagedUser"
                      }
                    },
                    "page": {
                      "type": "integer",
                      "example": 1
                    },
                    "size": {
                      "type": "integer",
                      "example": 10
                    },
                    "total": {
                      "type": "integer",
                      "example": 42
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "x-code-samples": [
          {
            "lang": "TypeScript",
            "label": "TypeScript SDK",
            "source": "import { Configuration, ManagedUsersApi } from '@widgetic/typescript-sdk';\n\nconst config = new Configuration({\n  apiKey: 'YOUR_API_KEY'\n});\n\nconst managedUsersApi = new ManagedUsersApi(config);\n\ntry {\n  const response = await managedUsersApi.getAllManagedUsers({\n    page: 1,\n    size: 10\n  });\n  \n  console.log('Managed users:', response.data);\n  console.log('Total:', response.total);\n  console.log('Current page:', response.page);\n} catch (error) {\n  if (error.response?.status === 401) {\n    console.error('Authentication required');\n  } else {\n    console.error('Failed to fetch managed users:', error);\n  }\n}\n"
          }
        ]
      },
      "post": {
        "operationId": "createManagedUser",
        "summary": "Create Managed User",
        "description": "Creates a new managed user for a partner account.",
        "tags": [
          "Managed Users"
        ],
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "partner",
        "x-visibility": "public",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NewManagedUser"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Managed user created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ManagedUser"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Partner access required"
          }
        },
        "x-code-samples": [
          {
            "lang": "TypeScript",
            "label": "TypeScript SDK",
            "source": "import { Configuration, ManagedUsersApi } from '@widgetic/typescript-sdk';\n\nconst config = new Configuration({\n  apiKey: 'YOUR_API_KEY'\n});\n\nconst managedUsersApi = new ManagedUsersApi(config);\n\ntry {\n  const managedUser = await managedUsersApi.createManagedUser({\n    createManagedUserRequest: {\n      external_id: \"external-user-123\",\n      manager_id: \"123e4567-e89b-12d3-a456-426614174001\",\n      metadata: {\n        firstName: \"John\",\n        lastName: \"Doe\",\n        role: \"editor\"\n      }\n    }\n  });\n  \n  console.log('Created managed user:', managedUser);\n} catch (error) {\n  console.error('Failed to create managed user:', error);\n}\n"
          }
        ]
      }
    },
    "/users/{managerId}/managed-users": {
      "get": {
        "operationId": "getManagedUsersByManagerId",
        "summary": "Get Managed Users By Manager",
        "description": "Retrieve managed users for a specific manager with pagination support.",
        "tags": [
          "Managed Users"
        ],
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "partner",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "managerId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the manager"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "Page number for pagination"
          },
          {
            "in": "query",
            "name": "size",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 10
            },
            "description": "Number of items per page"
          },
          {
            "in": "query",
            "name": "sort",
            "schema": {
              "type": "string",
              "default": "created_at:desc"
            },
            "description": "Sort field and direction (e.g., \"created_at:desc\")"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful retrieval of managed users",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/ManagedUser"
                      }
                    },
                    "page": {
                      "type": "integer",
                      "example": 1
                    },
                    "size": {
                      "type": "integer",
                      "example": 10
                    },
                    "total": {
                      "type": "integer",
                      "example": 42
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Manager not found"
          }
        }
      }
    },
    "/managed-users/{id}": {
      "get": {
        "operationId": "getManagedUserById",
        "summary": "Get Managed User By ID",
        "description": "Retrieves a specific managed user by ID.",
        "tags": [
          "Managed Users"
        ],
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "partner",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the managed user to retrieve"
          }
        ],
        "responses": {
          "200": {
            "description": "Managed user retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ManagedUser"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Managed user not found"
          }
        }
      },
      "put": {
        "operationId": "updateManagedUser",
        "summary": "Update Managed User",
        "description": "Updates an existing managed user.",
        "tags": [
          "Managed Users"
        ],
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "partner",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the managed user to update"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateManagedUser"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Managed user updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ManagedUser"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Managed user not found"
          }
        }
      },
      "delete": {
        "operationId": "deleteManagedUser",
        "summary": "Delete Managed User",
        "description": "Deletes a managed user by ID.",
        "tags": [
          "Managed Users"
        ],
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "partner",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the managed user to delete"
          }
        ],
        "responses": {
          "200": {
            "description": "Managed user deleted successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Managed user not found"
          }
        }
      }
    },
    "/canvases/{canvasId}/components/{componentId}/conversations/{conversationId}/messages": {
      "get": {
        "operationId": "getMessages",
        "summary": "Get All Messages",
        "description": "Retrieves all messages for a conversation with pagination support, including their attachments.",
        "tags": [
          "Messages"
        ],
        "x-resource-path": "messages",
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "canvasId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the canvas"
          },
          {
            "in": "path",
            "name": "componentId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the component"
          },
          {
            "in": "path",
            "name": "conversationId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the conversation"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "Page number for pagination"
          },
          {
            "in": "query",
            "name": "size",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 20
            },
            "description": "Number of items per page"
          },
          {
            "in": "query",
            "name": "sort",
            "schema": {
              "type": "string",
              "example": "created_at:desc"
            },
            "description": "Sort field and direction (e.g., \"created_at:desc\")"
          }
        ],
        "responses": {
          "200": {
            "description": "List of messages retrieved successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Message"
                      }
                    },
                    "page": {
                      "type": "integer"
                    },
                    "size": {
                      "type": "integer"
                    },
                    "total": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Conversation not found"
          }
        }
      },
      "post": {
        "operationId": "createMessage",
        "summary": "Create Message",
        "description": "Creates a new message in a conversation, potentially with text content and/or file attachments.",
        "tags": [
          "Messages"
        ],
        "x-resource-path": "messages",
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "canvasId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the canvas"
          },
          {
            "in": "path",
            "name": "componentId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the component"
          },
          {
            "in": "path",
            "name": "conversationId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the conversation"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateMessageRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Message created successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input (e.g., missing message_type, user_id, or neither content nor attachments)"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Conversation not found"
          }
        },
        "x-code-samples": [
          {
            "lang": "TypeScript",
            "label": "TypeScript SDK Example (Conceptual)",
            "source": "// Assuming your SDK is updated to reflect these changes\nimport { Configuration, MessagesApi, CreateMessageRequestAttachmentsInner } from '@widgetic/typescript-sdk';\n\nconst config = new Configuration({ apiKey: 'YOUR_API_KEY' });\nconst messagesApi = new MessagesApi(config);\n\nconst attachments: CreateMessageRequestAttachmentsInner[] = [\n  {\n    url: \"https://example.com/uploads/image.png\",\n    file_type: \"image/png\",\n    file_name: \"diagram.png\",\n    file_size: 50000\n  }\n];\n\ntry {\n  const message = await messagesApi.createMessage({\n    canvasId: \"canvas-uuid\",\n    componentId: \"component-uuid\",\n    conversationId: \"conversation-uuid\",\n    createMessageRequest: {\n      message_content: \"Please see the attached diagram.\",\n      message_type: \"user\",\n      user_id: \"user-uuid\",\n      attachments: attachments,\n      is_commit: false\n    }\n  });\n  console.log('Created message:', message);\n} catch (error) {\n  console.error('Failed to create message:', error);\n}\n"
          }
        ]
      }
    },
    "/canvases/{canvasId}/components/{componentId}/conversations/{conversationId}/messages/{messageId}": {
      "get": {
        "operationId": "getMessage",
        "summary": "Get Message",
        "description": "Retrieves a specific message by ID, including its attachments.",
        "tags": [
          "Messages"
        ],
        "x-resource-path": "messages",
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "canvasId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the canvas"
          },
          {
            "in": "path",
            "name": "componentId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the component"
          },
          {
            "in": "path",
            "name": "conversationId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the conversation"
          },
          {
            "in": "path",
            "name": "messageId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the message"
          }
        ],
        "responses": {
          "200": {
            "description": "Message retrieved successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Message not found"
          }
        }
      },
      "put": {
        "operationId": "updateMessage",
        "summary": "Update Message",
        "description": "Updates an existing message. Can update text content, type, commit status, and/or replace all attachments.",
        "tags": [
          "Messages"
        ],
        "x-resource-path": "messages",
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "canvasId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the canvas"
          },
          {
            "in": "path",
            "name": "componentId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the component"
          },
          {
            "in": "path",
            "name": "conversationId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the conversation"
          },
          {
            "in": "path",
            "name": "messageId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the message to update"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateMessageRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Message updated successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Message"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input (e.g., empty update body)"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Message not found"
          }
        }
      },
      "delete": {
        "operationId": "deleteMessage",
        "summary": "Delete Message",
        "description": "Deletes a message and its associated attachments/content.",
        "tags": [
          "Messages"
        ],
        "x-resource-path": "messages",
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "canvasId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the canvas"
          },
          {
            "in": "path",
            "name": "componentId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the component"
          },
          {
            "in": "path",
            "name": "conversationId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the conversation"
          },
          {
            "in": "path",
            "name": "messageId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the message"
          }
        ],
        "responses": {
          "200": {
            "description": "Message deleted successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string",
                      "format": "uuid",
                      "description": "ID of the deleted message."
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Message not found"
          }
        }
      }
    },
    "/messages/restore-checkpoint": {
      "post": {
        "operationId": "restoreCheckpoint",
        "summary": "Restore Conversation to Checkpoint",
        "description": "Permanently delete all messages and files after a specific checkpoint message or timestamp in a conversation. This action cannot be undone.",
        "tags": [
          "Messages"
        ],
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "conversation_id"
                ],
                "oneOf": [
                  {
                    "required": [
                      "checkpoint_message_id"
                    ]
                  },
                  {
                    "required": [
                      "checkpoint_timestamp"
                    ]
                  }
                ],
                "properties": {
                  "conversation_id": {
                    "type": "string",
                    "format": "uuid",
                    "description": "ID of the conversation to restore",
                    "example": "123e4567-e89b-12d3-a456-426614174000"
                  },
                  "checkpoint_message_id": {
                    "type": "string",
                    "format": "uuid",
                    "description": "ID of the message to restore to (all messages after this will be deleted)",
                    "example": "789e0123-e89b-12d3-a456-426614174000"
                  },
                  "checkpoint_timestamp": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Alternative to message_id - timestamp to restore to",
                    "example": "2024-01-15T10:30:00Z"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Checkpoint restored successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "conversation_id": {
                          "type": "string",
                          "format": "uuid"
                        },
                        "checkpoint_message_id": {
                          "type": "string",
                          "format": "uuid"
                        },
                        "deleted_messages_after": {
                          "type": "integer",
                          "description": "Number of messages deleted after the checkpoint"
                        },
                        "deleted_files": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          },
                          "description": "IDs of files that were deleted"
                        },
                        "restored_to_timestamp": {
                          "type": "string",
                          "format": "date-time"
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "Conversation restored to checkpoint successfully"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request (invalid input or missing required fields)"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Conversation or checkpoint message not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/partners/{partnerId}/credits/balance": {
      "get": {
        "operationId": "getPartnerCreditBalance",
        "summary": "Get partner credit balance",
        "description": "Retrieves the current credit balance for a partner",
        "tags": [
          "Partners"
        ],
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "partner",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "partnerId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Partner ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Partner credit balance retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "balance": {
                      "type": "number",
                      "description": "Current credit balance"
                    },
                    "last_updated": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "auto_reload_settings": {
                      "type": "object",
                      "properties": {
                        "enabled": {
                          "type": "boolean"
                        },
                        "threshold": {
                          "type": "number"
                        },
                        "reload_amount": {
                          "type": "number"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/partners/{partnerId}/credits/add": {
      "post": {
        "operationId": "addPartnerCredits",
        "summary": "Add credits to partner account",
        "description": "Adds credits to a partner's account, generating a checkout URL for payment",
        "tags": [
          "Partners"
        ],
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "partner",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "partnerId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Partner ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "amount"
                ],
                "properties": {
                  "amount": {
                    "type": "number",
                    "minimum": 10,
                    "description": "Amount of credits to add (minimum $10)"
                  },
                  "successUrl": {
                    "type": "string",
                    "description": "URL to redirect after successful payment"
                  },
                  "cancelUrl": {
                    "type": "string",
                    "description": "URL to redirect if payment is canceled"
                  },
                  "preferredProvider": {
                    "type": "string",
                    "enum": [
                      "lemonsqueezy",
                      "paddle"
                    ],
                    "description": "Preferred payment provider"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Credit purchase URL generated successfully"
          }
        }
      }
    },
    "/partners/{partnerId}/credits/auto-reload": {
      "put": {
        "operationId": "configureAutoReload",
        "summary": "Configure auto-reload settings",
        "description": "Configures automatic credit reload when balance falls below threshold",
        "tags": [
          "Partners"
        ],
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "partner",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "partnerId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Partner ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "enabled"
                ],
                "properties": {
                  "enabled": {
                    "type": "boolean",
                    "description": "Whether auto-reload is enabled"
                  },
                  "threshold": {
                    "type": "number",
                    "minimum": 0,
                    "description": "Balance threshold to trigger reload"
                  },
                  "reload_amount": {
                    "type": "number",
                    "minimum": 10,
                    "description": "Amount to reload when triggered"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Auto-reload settings updated successfully"
          }
        }
      }
    },
    "/partners/{partnerId}/credits/transactions": {
      "get": {
        "operationId": "getPartnerCreditTransactions",
        "summary": "Get partner credit transaction history",
        "description": "Retrieves the transaction history for a partner's credits",
        "tags": [
          "Partners"
        ],
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "partner",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "partnerId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Partner ID"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 20
            },
            "description": "Number of transactions to return"
          },
          {
            "in": "query",
            "name": "offset",
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0
            },
            "description": "Number of transactions to skip"
          },
          {
            "in": "query",
            "name": "type",
            "schema": {
              "type": "string",
              "enum": [
                "credit",
                "debit",
                "purchase",
                "usage",
                "refund"
              ]
            },
            "description": "Filter by transaction type"
          }
        ],
        "responses": {
          "200": {
            "description": "Credit transactions retrieved successfully"
          }
        }
      }
    },
    "/partners/{partnerId}/billing-overview": {
      "get": {
        "operationId": "getPartnerBillingOverview",
        "summary": "Get comprehensive partner billing overview",
        "description": "Retrieves operational credits, enterprise customization, and billing integration status",
        "tags": [
          "Partners"
        ],
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "partner",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "partnerId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Partner ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Partner billing overview retrieved successfully"
          }
        }
      }
    },
    "/tokens/validate": {
      "get": {
        "tags": [
          "Tokens"
        ],
        "operationId": "validateToken",
        "summary": "Validate current authentication token",
        "x-access-level": "public",
        "x-visibility": "public",
        "security": [
          {
            "ApiKeyAuth": []
          },
          {
            "BearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Token validation successful",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "valid": {
                          "type": "boolean",
                          "example": true
                        },
                        "tokenType": {
                          "type": "string",
                          "enum": [
                            "api_key",
                            "jwt_token",
                            "service_key"
                          ],
                          "example": "api_key"
                        },
                        "scopes": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          },
                          "example": [
                            "compositions:read",
                            "widgets:read"
                          ]
                        },
                        "userId": {
                          "type": "string",
                          "example": "user_123"
                        },
                        "expiresAt": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2024-12-31T23:59:59Z"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Invalid or expired token",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string",
                          "example": "INVALID_TOKEN"
                        },
                        "message": {
                          "type": "string",
                          "example": "Token is invalid or expired"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/tokens/exchange": {
      "post": {
        "tags": [
          "Tokens"
        ],
        "operationId": "exchangeToken",
        "summary": "Exchange API key for short-lived JWT token",
        "x-access-level": "public",
        "x-visibility": "public",
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "scopes": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "Requested scopes for the token",
                    "example": [
                      "compositions:read",
                      "widgets:read"
                    ]
                  },
                  "expiresIn": {
                    "type": "integer",
                    "description": "Token lifetime in seconds (max 3600)",
                    "example": 1800,
                    "minimum": 60,
                    "maximum": 3600
                  }
                },
                "required": [
                  "scopes"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Token exchange successful",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "token": {
                          "type": "string",
                          "description": "Short-lived JWT token",
                          "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                        },
                        "tokenType": {
                          "type": "string",
                          "example": "Bearer"
                        },
                        "expiresIn": {
                          "type": "integer",
                          "example": 1800
                        },
                        "expiresAt": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2024-01-01T12:30:00Z"
                        },
                        "scopes": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          },
                          "example": [
                            "compositions:read",
                            "widgets:read"
                          ]
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Invalid API key"
          }
        }
      }
    },
    "/translations/{id}/config": {
      "get": {
        "tags": [
          "Translations"
        ],
        "operationId": "getTranslationConfig",
        "summary": "Get public translation experiment configuration (no auth required)",
        "description": "Get translation experiment configuration for embed SDK usage",
        "x-access-level": "public",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Translation experiment ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Translation experiment configuration",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string"
                        },
                        "name": {
                          "type": "string"
                        },
                        "rootLanguage": {
                          "type": "string",
                          "example": "en"
                        },
                        "rootCompositionId": {
                          "type": "string"
                        },
                        "languageCompositions": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "string"
                          },
                          "example": {
                            "es": "comp_spanish_123",
                            "fr": "comp_french_456"
                          }
                        },
                        "status": {
                          "type": "string",
                          "enum": [
                            "active",
                            "paused",
                            "draft",
                            "completed"
                          ]
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Translation experiment not found"
          },
          "500": {
            "description": "Server error"
          }
        }
      }
    },
    "/translations/{id}/analytics/events": {
      "post": {
        "tags": [
          "Translations"
        ],
        "operationId": "submitTranslationAnalyticsEvent",
        "summary": "Submit analytics event for translation experiment (no auth required)",
        "description": "Submit analytics data for embed SDK usage",
        "x-access-level": "public",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Translation experiment ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "eventType": {
                    "type": "string",
                    "enum": [
                      "impression",
                      "interaction"
                    ]
                  },
                  "language": {
                    "type": "string"
                  },
                  "compositionId": {
                    "type": "string"
                  },
                  "metadata": {
                    "type": "object"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Analytics event recorded"
          },
          "404": {
            "description": "Translation experiment not found"
          }
        }
      }
    },
    "/ui/components": {
      "get": {
        "operationId": "listComponents",
        "summary": "List UI Components",
        "description": "List available UI components for partner",
        "tags": [
          "UI Components"
        ],
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "partner",
        "x-visibility": "public",
        "responses": {
          "200": {
            "description": "Components retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "components": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/UIComponent"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "x-code-samples": [
          {
            "lang": "TypeScript",
            "label": "TypeScript SDK",
            "source": "import { Configuration, UIApi } from '@widgetic/typescript-sdk';\n\nconst config = new Configuration({\n  apiKey: 'YOUR_API_KEY'\n});\n\nconst uiApi = new UIApi(config);\n\ntry {\n  const { components } = await uiApi.listComponents();\n  console.log('Available components:', components);\n} catch (error) {\n  console.error('Failed to fetch components:', error);\n}\n"
          }
        ]
      }
    },
    "/ui/components/{componentId}/manifest": {
      "get": {
        "operationId": "getComponentManifest",
        "summary": "Get Component Manifest",
        "description": "Get component manifest with configuration and dependencies",
        "tags": [
          "UI Components"
        ],
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "partner",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "componentId",
            "required": true,
            "schema": {
              "type": "string",
              "enum": [
                "widget-creator",
                "composition-editor",
                "embed-editor"
              ]
            },
            "description": "Component identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Manifest retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ComponentManifest"
                }
              }
            }
          },
          "404": {
            "description": "Component not found"
          }
        },
        "x-code-samples": [
          {
            "lang": "TypeScript",
            "label": "TypeScript SDK",
            "source": "import { Configuration, UIApi } from '@widgetic/typescript-sdk';\n\nconst config = new Configuration({\n  apiKey: 'YOUR_API_KEY'\n});\n\nconst uiApi = new UIApi(config);\n\ntry {\n  const manifest = await uiApi.getComponentManifest({\n    componentId: 'widget-creator'\n  });\n  console.log('Component manifest:', manifest);\n} catch (error) {\n  console.error('Failed to fetch manifest:', error);\n}\n"
          }
        ]
      }
    },
    "/ui/components/{componentId}/mount": {
      "post": {
        "operationId": "mountComponent",
        "summary": "Mount Component",
        "description": "Initialize and mount a UI component",
        "tags": [
          "UI Components"
        ],
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "partner",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "componentId",
            "required": true,
            "schema": {
              "type": "string",
              "enum": [
                "widget-creator",
                "composition-editor",
                "embed-editor"
              ]
            },
            "description": "Component identifier"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MountRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Component mounted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MountResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid mount configuration"
          },
          "404": {
            "description": "Component not found"
          }
        },
        "x-code-samples": [
          {
            "lang": "TypeScript",
            "label": "TypeScript SDK",
            "source": "import { Configuration, UIApi } from '@widgetic/typescript-sdk';\n\nconst config = new Configuration({\n  apiKey: 'YOUR_API_KEY'\n});\n\nconst uiApi = new UIApi(config);\n\ntry {\n  const response = await uiApi.mountComponent({\n    componentId: 'widget-creator',\n    mountRequest: {\n      container: 'widget-container',\n      theme: {\n        mode: 'dark',\n        colors: {\n          primary: '#007bff'\n        }\n      }\n    }\n  });\n  console.log('Component mounted:', response);\n} catch (error) {\n  console.error('Failed to mount component:', error);\n}\n"
          }
        ]
      }
    },
    "/ui/components/{componentId}/{instanceId}": {
      "delete": {
        "operationId": "unmountComponent",
        "summary": "Unmount Component",
        "description": "Cleanup and unmount a UI component instance",
        "tags": [
          "UI Components"
        ],
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "x-access-level": "partner",
        "x-visibility": "public",
        "parameters": [
          {
            "in": "path",
            "name": "componentId",
            "required": true,
            "schema": {
              "type": "string",
              "enum": [
                "widget-creator",
                "composition-editor",
                "embed-editor"
              ]
            },
            "description": "Component identifier"
          },
          {
            "in": "path",
            "name": "instanceId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Instance identifier"
          }
        ],
        "responses": {
          "204": {
            "description": "Component unmounted successfully"
          },
          "404": {
            "description": "Component or instance not found"
          }
        },
        "x-code-samples": [
          {
            "lang": "TypeScript",
            "label": "TypeScript SDK",
            "source": "import { Configuration, UIApi } from '@widgetic/typescript-sdk';\n\nconst config = new Configuration({\n  apiKey: 'YOUR_API_KEY'\n});\n\nconst uiApi = new UIApi(config);\n\ntry {\n  await uiApi.unmountComponent({\n    componentId: 'widget-creator',\n    instanceId: 'instance_123'\n  });\n  console.log('Component unmounted successfully');\n} catch (error) {\n  console.error('Failed to unmount component:', error);\n}\n"
          }
        ]
      }
    },
    "/users/send-feedback": {
      "post": {
        "summary": "Send feedback email",
        "description": "Send user feedback via email using the email service",
        "tags": [
          "Users"
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "fromEmail",
                  "subject",
                  "feedback"
                ],
                "properties": {
                  "fromEmail": {
                    "type": "string",
                    "format": "email",
                    "description": "User's email address"
                  },
                  "subject": {
                    "type": "string",
                    "description": "Feedback subject"
                  },
                  "feedback": {
                    "type": "string",
                    "description": "Feedback content"
                  },
                  "replyTo": {
                    "type": "string",
                    "format": "email",
                    "description": "Optional reply-to email address"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Feedback sent successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request data"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Failed to send feedback"
          }
        }
      }
    },
    "/widgets/batch": {
      "post": {
        "operationId": "getWidgetsBatch",
        "summary": "Get Widgets Batch",
        "description": "Retrieves multiple widgets by their IDs in a single request.",
        "tags": [
          "Widgets"
        ],
        "x-access-level": "user",
        "x-visibility": "public",
        "security": [
          {
            "apiKeyAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "widgetIds"
                ],
                "properties": {
                  "widgetIds": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Widgets batch result",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "widgets": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Widget"
                      }
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "error": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "ABTest": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Unique identifier for the A/B test",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "creatorId": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the user who created this test",
            "example": "456e7890-e89b-12d3-a456-426614174001"
          },
          "organizationId": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the organization (for organization workspace tests)",
            "example": "789e0123-e89b-12d3-a456-426614174002",
            "nullable": true
          },
          "workspaceType": {
            "type": "string",
            "enum": [
              "personal",
              "organization"
            ],
            "description": "Workspace type - determines whether this is a personal or organization test",
            "example": "personal"
          },
          "name": {
            "type": "string",
            "description": "Display name for the A/B test",
            "example": "Homepage Hero Test"
          },
          "description": {
            "type": "string",
            "description": "Optional description of what the test is measuring",
            "example": "Testing different hero section layouts"
          },
          "status": {
            "type": "string",
            "enum": [
              "draft",
              "running",
              "paused",
              "completed",
              "graduated"
            ],
            "description": "Current status of the test",
            "example": "running"
          },
          "successMetrics": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Array of success metrics being tracked",
            "example": [
              "clicks",
              "conversions"
            ]
          },
          "primaryMetric": {
            "type": "string",
            "description": "Primary metric used for statistical significance",
            "example": "conversions"
          },
          "confidenceLevel": {
            "type": "number",
            "minimum": 0.8,
            "maximum": 0.99,
            "description": "Required confidence level (e.g., 0.95 for 95%)",
            "example": 0.95
          },
          "minSampleSize": {
            "type": "integer",
            "minimum": 100,
            "description": "Minimum sample size required before results are considered valid",
            "example": 1000
          },
          "autoGraduate": {
            "type": "boolean",
            "description": "Whether the test should automatically graduate when significance is reached",
            "example": true
          },
          "graduationThreshold": {
            "type": "number",
            "minimum": 0.8,
            "maximum": 0.99,
            "description": "Threshold for automatic graduation",
            "example": 0.95
          },
          "startDate": {
            "type": "string",
            "format": "date-time",
            "description": "When the test started or will start",
            "example": "2024-01-15T10:00:00Z"
          },
          "endDate": {
            "type": "string",
            "format": "date-time",
            "description": "When the test ended or will end",
            "example": "2024-01-30T10:00:00Z"
          },
          "durationDays": {
            "type": "integer",
            "minimum": 1,
            "maximum": 365,
            "description": "Duration of the test in days",
            "example": 15
          },
          "winningVariantId": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the winning variant (if test has concluded)",
            "example": "789e0123-e89b-12d3-a456-426614174002"
          },
          "graduatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "When the test was graduated",
            "example": "2024-01-30T15:30:00Z"
          },
          "statisticalSignificance": {
            "type": "number",
            "minimum": 0,
            "maximum": 1,
            "description": "Statistical significance level achieved",
            "example": 0.96
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "When the test was created",
            "example": "2024-01-15T09:00:00Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "When the test was last updated",
            "example": "2024-01-15T09:00:00Z"
          },
          "variants": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ABTestVariant"
            },
            "description": "Associated test variants"
          }
        },
        "example": {
          "id": "123e4567-e89b-12d3-a456-426614174000",
          "creatorId": "456e7890-e89b-12d3-a456-426614174001",
          "organizationId": "789e0123-e89b-12d3-a456-426614174002",
          "workspaceType": "personal",
          "name": "Homepage Hero Test",
          "description": "Testing different hero section layouts",
          "status": "running",
          "successMetrics": [
            "clicks",
            "conversions"
          ],
          "primaryMetric": "conversions",
          "confidenceLevel": 0.95,
          "minSampleSize": 1000,
          "autoGraduate": true,
          "graduationThreshold": 0.95,
          "startDate": "2024-01-15T10:00:00Z",
          "endDate": "2024-01-30T10:00:00Z",
          "durationDays": 15,
          "createdAt": "2024-01-15T09:00:00Z",
          "updatedAt": "2024-01-15T09:00:00Z",
          "variants": []
        }
      },
      "ABTestVariant": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Unique identifier for the variant",
            "example": "789e0123-e89b-12d3-a456-426614174002"
          },
          "abTestId": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the parent A/B test",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "compositionId": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the composition this variant uses",
            "example": "456e7890-e89b-12d3-a456-426614174003"
          },
          "name": {
            "type": "string",
            "description": "Display name for the variant",
            "example": "Control"
          },
          "description": {
            "type": "string",
            "description": "Optional description of the variant",
            "example": "Original homepage design"
          },
          "trafficPercentage": {
            "type": "number",
            "minimum": 0.1,
            "maximum": 100,
            "description": "Percentage of traffic allocated to this variant",
            "example": 50
          },
          "embedCode": {
            "type": "string",
            "description": "Generated embed code for this variant",
            "example": "<script>...</script>"
          },
          "totalImpressions": {
            "type": "integer",
            "minimum": 0,
            "description": "Total number of impressions recorded",
            "example": 2500
          },
          "totalConversions": {
            "type": "integer",
            "minimum": 0,
            "description": "Total number of conversions recorded",
            "example": 125
          },
          "conversionRate": {
            "type": "number",
            "minimum": 0,
            "maximum": 1,
            "description": "Calculated conversion rate",
            "example": 0.05
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "When the variant was created",
            "example": "2024-01-15T09:00:00Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "When the variant was last updated",
            "example": "2024-01-20T14:30:00Z"
          }
        },
        "example": {
          "id": "789e0123-e89b-12d3-a456-426614174002",
          "abTestId": "123e4567-e89b-12d3-a456-426614174000",
          "compositionId": "456e7890-e89b-12d3-a456-426614174003",
          "name": "Control",
          "description": "Original homepage design",
          "trafficPercentage": 50,
          "embedCode": "<script>...</script>",
          "totalImpressions": 2500,
          "totalConversions": 125,
          "conversionRate": 0.05,
          "createdAt": "2024-01-15T09:00:00Z",
          "updatedAt": "2024-01-20T14:30:00Z"
        }
      },
      "ABTestAssignment": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Unique identifier for the assignment",
            "example": "abc12345-e89b-12d3-a456-426614174004"
          },
          "ab_test_id": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the A/B test",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "variant_id": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the assigned variant",
            "example": "789e0123-e89b-12d3-a456-426614174002"
          },
          "user_id": {
            "type": "string",
            "format": "uuid",
            "description": "ID of authenticated user (if applicable)",
            "example": "def67890-e89b-12d3-a456-426614174005"
          },
          "session_id": {
            "type": "string",
            "description": "Session ID for anonymous users",
            "example": "session_abc123"
          },
          "user_identifier_hash": {
            "type": "string",
            "description": "Deterministic hash for consistent assignment",
            "example": "a1b2c3d4e5f6"
          },
          "assigned_at": {
            "type": "string",
            "format": "date-time",
            "description": "When the assignment was recorded",
            "example": "2024-01-22T11:00:00Z"
          }
        },
        "example": {
          "id": "abc12345-e89b-12d3-a456-426614174004",
          "ab_test_id": "123e4567-e89b-12d3-a456-426614174000",
          "variant_id": "789e0123-e89b-12d3-a456-426614174002",
          "user_id": "def67890-e89b-12d3-a456-426614174005",
          "session_id": "session_abc123",
          "user_identifier_hash": "a1b2c3d4e5f6",
          "assigned_at": "2024-01-22T11:00:00Z"
        }
      },
      "CreateABTestRequest": {
        "type": "object",
        "required": [
          "name",
          "variants"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Display name for the A/B test",
            "example": "Homepage Hero Test"
          },
          "description": {
            "type": "string",
            "description": "Optional description of what the test is measuring",
            "example": "Testing different hero section layouts"
          },
          "status": {
            "type": "string",
            "enum": [
              "draft",
              "running"
            ],
            "description": "Initial status of the test (defaults to draft)",
            "example": "draft"
          },
          "workspaceType": {
            "type": "string",
            "enum": [
              "personal",
              "organization"
            ],
            "description": "Workspace type - must be provided when creating a test",
            "example": "personal"
          },
          "variants": {
            "type": "array",
            "minItems": 2,
            "items": {
              "type": "object",
              "required": [
                "name",
                "compositionId",
                "trafficPercentage"
              ],
              "properties": {
                "name": {
                  "type": "string",
                  "description": "Name of the variant (e.g., 'Control', 'Variant A')",
                  "example": "Variant A"
                },
                "description": {
                  "type": "string",
                  "description": "Optional description for the variant",
                  "example": "New design with a larger CTA"
                },
                "compositionId": {
                  "type": "string",
                  "format": "uuid",
                  "description": "The composition to use for this variant",
                  "example": "456e7890-e89b-12d3-a456-426614174003"
                },
                "trafficPercentage": {
                  "type": "number",
                  "minimum": 0.1,
                  "maximum": 100,
                  "description": "Percentage of traffic for this variant",
                  "example": 50
                }
              }
            }
          },
          "successMetrics": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Metrics to track (e.g., 'clicks', 'conversions')",
            "example": [
              "clicks",
              "conversions"
            ]
          },
          "primaryMetric": {
            "type": "string",
            "description": "Primary metric for determining a winner",
            "example": "conversions"
          },
          "confidenceLevel": {
            "type": "number",
            "default": 0.95
          },
          "minSampleSize": {
            "type": "integer",
            "default": 1000
          },
          "autoGraduate": {
            "type": "boolean",
            "default": true
          },
          "graduationThreshold": {
            "type": "number",
            "default": 0.95
          },
          "startDate": {
            "type": "string",
            "format": "date-time"
          },
          "endDate": {
            "type": "string",
            "format": "date-time"
          },
          "durationDays": {
            "type": "integer"
          }
        },
        "example": {
          "name": "Homepage Hero Test",
          "description": "Testing different hero section layouts",
          "status": "draft",
          "workspaceType": "personal",
          "variants": [],
          "successMetrics": [
            "clicks",
            "conversions"
          ],
          "primaryMetric": "conversions",
          "confidenceLevel": 42,
          "minSampleSize": 42,
          "autoGraduate": true,
          "graduationThreshold": 42,
          "startDate": "2026-01-12T15:18:20.984Z",
          "endDate": "2026-01-12T15:18:20.985Z",
          "durationDays": 42
        }
      },
      "UpdateABTestRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "status": {
            "type": "string",
            "enum": [
              "draft",
              "running",
              "paused",
              "completed",
              "graduated"
            ]
          },
          "successMetrics": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "primaryMetric": {
            "type": "string"
          },
          "confidenceLevel": {
            "type": "number"
          },
          "minSampleSize": {
            "type": "integer"
          },
          "autoGraduate": {
            "type": "boolean"
          },
          "graduationThreshold": {
            "type": "number"
          },
          "startDate": {
            "type": "string",
            "format": "date-time"
          },
          "endDate": {
            "type": "string",
            "format": "date-time"
          },
          "durationDays": {
            "type": "integer"
          }
        },
        "example": {
          "name": "Example name",
          "description": "Example description",
          "status": "Example status",
          "successMetrics": [],
          "primaryMetric": "Example primaryMetric",
          "confidenceLevel": 42,
          "minSampleSize": 42,
          "autoGraduate": true,
          "graduationThreshold": 42,
          "startDate": "2026-01-12T15:18:20.985Z",
          "endDate": "2026-01-12T15:18:20.985Z",
          "durationDays": 42
        }
      },
      "TemplateType": {
        "type": "string",
        "enum": [
          "BASE",
          "DEVELOPMENT"
        ],
        "description": "The type of template to use for the VM.",
        "example": "DEVELOPMENT"
      },
      "VMStatus": {
        "type": "string",
        "enum": [
          "initializing",
          "creating",
          "running",
          "idle",
          "suspending",
          "suspended",
          "resuming",
          "stopping",
          "stopped",
          "terminating",
          "terminated",
          "error"
        ],
        "description": "Current status of the VM lifecycle.",
        "example": "running"
      },
      "ResourceAllocation": {
        "type": "object",
        "description": "Allocated CPU, memory, and disk resources.",
        "properties": {
          "cpu": {
            "type": "integer",
            "description": "Number of virtual CPUs allocated.",
            "example": 2
          },
          "memoryMb": {
            "type": "integer",
            "description": "Amount of memory allocated in Megabytes (MB).",
            "example": 4096
          },
          "diskMb": {
            "type": "integer",
            "description": "Optional disk space allocated in MB.",
            "example": 10240
          }
        },
        "required": [
          "cpu",
          "memoryMb"
        ],
        "example": {
          "cpu": 2,
          "memoryMb": 4096,
          "diskMb": 10240
        }
      },
      "CreateVMRequest": {
        "type": "object",
        "description": "Request body for creating a new VM session.",
        "required": [
          "templateType"
        ],
        "properties": {
          "templateType": {
            "$ref": "#/components/schemas/TemplateType"
          },
          "name": {
            "type": "string",
            "description": "Optional user-friendly name for the VM session.",
            "example": "My Dev Environment"
          },
          "repositoryId": {
            "type": "string",
            "format": "uuid",
            "description": "Optional ID of the GitLab repository to associate.",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "widgetId": {
            "type": "string",
            "format": "uuid",
            "description": "Optional Widget ID this session relates to.",
            "example": "123e4567-e89b-12d3-a456-426614174001"
          },
          "componentId": {
            "type": "string",
            "format": "uuid",
            "description": "Optional Component ID if the VM is scoped.",
            "example": "123e4567-e89b-12d3-a456-426614174002"
          },
          "gitlabRepository": {
            "type": "string",
            "description": "Optional GitLab repository URL for sync.",
            "example": "git@gitlab.com:user/repo.git"
          }
        },
        "example": {
          "templateType": null,
          "name": "My Dev Environment",
          "repositoryId": "123e4567-e89b-12d3-a456-426614174000",
          "widgetId": "123e4567-e89b-12d3-a456-426614174001",
          "componentId": "123e4567-e89b-12d3-a456-426614174002",
          "gitlabRepository": "git@gitlab.com:user/repo.git"
        }
      },
      "VMSessionResponse": {
        "type": "object",
        "description": "Represents the data returned by API endpoints for a VM session.",
        "properties": {
          "sessionId": {
            "type": "string",
            "format": "uuid",
            "description": "Unique identifier for the VM session.",
            "example": "a1b2c3d4-e5f6-7890-abcd-ef1234567890"
          },
          "status": {
            "$ref": "#/components/schemas/VMStatus"
          },
          "userId": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the user who owns this VM session.",
            "example": "098f6bcd-4621-4369-887f-d61de4a86a12"
          },
          "templateId": {
            "type": "string",
            "description": "ID of the template used to create this VM.",
            "example": "dev-template-v1.2.0"
          },
          "resourceAllocation": {
            "$ref": "#/components/schemas/ResourceAllocation"
          },
          "name": {
            "type": "string",
            "description": "User-friendly name for the VM, if provided.",
            "example": "My Dev Environment"
          },
          "ipAddress": {
            "type": "string",
            "format": "ipv4",
            "description": "IP address assigned to the VM, if running and networked.",
            "example": "192.168.1.100"
          },
          "port": {
            "type": "integer",
            "description": "Port number for accessing primary services on the VM.",
            "example": 8080
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp when the VM session record was created (ISO 8601 format).",
            "example": "2023-10-27T10:00:00Z"
          },
          "lastActivityAt": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp of the last known activity or state change (ISO 8601 format).",
            "example": "2023-10-27T11:30:00Z"
          },
          "repositoryId": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the GitLab repository this session is tied to, if provided.",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "widgetId": {
            "type": "string",
            "format": "uuid",
            "description": "Widget ID this session relates to, if provided.",
            "example": "123e4567-e89b-12d3-a456-426614174001"
          },
          "componentId": {
            "type": "string",
            "format": "uuid",
            "description": "Component ID if the VM is scoped, if provided.",
            "example": "123e4567-e89b-12d3-a456-426614174002"
          },
          "error": {
            "type": "string",
            "description": "Error message if the VM is in an ERROR state.",
            "example": "Flintlock failed to provision resources."
          }
        },
        "example": {
          "sessionId": "a1b2c3d4-e5f6-7890-abcd-ef1234567890",
          "status": null,
          "userId": "098f6bcd-4621-4369-887f-d61de4a86a12",
          "templateId": "dev-template-v1.2.0",
          "resourceAllocation": null,
          "name": "My Dev Environment",
          "ipAddress": "192.168.1.100",
          "port": 8080,
          "createdAt": "2023-10-27T10:00:00Z",
          "lastActivityAt": "2023-10-27T11:30:00Z",
          "repositoryId": "123e4567-e89b-12d3-a456-426614174000",
          "widgetId": "123e4567-e89b-12d3-a456-426614174001",
          "componentId": "123e4567-e89b-12d3-a456-426614174002",
          "error": "Flintlock failed to provision resources."
        }
      },
      "CreateTaskPlanRequest": {
        "type": "object",
        "description": "Request body for creating a task plan.",
        "required": [
          "requirements",
          "repositoryId"
        ],
        "properties": {
          "requirements": {
            "type": "string",
            "description": "Detailed requirements to be broken down into tasks.",
            "example": "Build a user authentication flow with login and signup pages."
          },
          "repositoryId": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the target repository for the plan."
          },
          "widgetId": {
            "type": "string",
            "format": "uuid",
            "nullable": true,
            "description": "Optional Widget ID associated with the plan."
          },
          "componentId": {
            "type": "string",
            "format": "uuid",
            "nullable": true,
            "description": "Optional Component ID associated with the plan."
          }
        },
        "example": {
          "requirements": "Build a user authentication flow with login and signup pages.",
          "repositoryId": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
          "widgetId": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
          "componentId": "3fa85f64-5717-4562-b3fc-2c963f66afa6"
        }
      },
      "CodeGenerationStatusResponse": {
        "type": "object",
        "description": "Response body for code generation status.",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "The ID of the task."
          },
          "status": {
            "type": "string",
            "enum": [
              "pending",
              "in_progress",
              "completed",
              "failed"
            ],
            "description": "Current status of the task."
          },
          "result_files": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "nullable": true,
            "description": "List of file paths created or modified by the task."
          },
          "error": {
            "type": "string",
            "nullable": true,
            "description": "Error message if the task failed."
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp of the last update to the task."
          }
        },
        "example": {
          "id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
          "status": "Example status",
          "result_files": [],
          "error": "Example error",
          "updated_at": "2026-01-12T15:18:20.985Z"
        }
      },
      "ModifyCodeRequest": {
        "type": "object",
        "description": "Request body for modifying existing code.",
        "required": [
          "repositoryId",
          "vmSessionId",
          "widgetId",
          "componentId",
          "modificationInstructions"
        ],
        "properties": {
          "repositoryId": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the repository containing the code."
          },
          "vmSessionId": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the VM session where modification should occur."
          },
          "widgetId": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the widget being modified."
          },
          "componentId": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the component being modified."
          },
          "modificationInstructions": {
            "type": "string",
            "description": "Detailed instructions on how to modify the code.",
            "example": "Refactor the login function to use async/await."
          },
          "imageInputs": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "nullable": true,
            "description": "Optional array of image URLs or descriptions for context."
          },
          "htmlElementContext": {
            "type": "string",
            "nullable": true,
            "description": "Optional stringified JSON or description of HTML element context."
          },
          "initiatePlanGeneration": {
            "type": "boolean",
            "description": "If true, indicates a plan should be generated instead of direct modification."
          }
        },
        "example": {
          "repositoryId": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
          "vmSessionId": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
          "widgetId": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
          "componentId": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
          "modificationInstructions": "Refactor the login function to use async/await.",
          "imageInputs": [],
          "htmlElementContext": "Example htmlElementContext",
          "initiatePlanGeneration": true
        }
      },
      "InitializeRepositoryRequest": {
        "type": "object",
        "description": "Request body for initializing a repository.",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Name for the new repository. Will be used to generate the slug.",
            "example": "My New Project"
          },
          "widgetId": {
            "type": "string",
            "format": "uuid",
            "description": "Optional UUID of the widget to associate with this repository."
          }
        },
        "example": {
          "name": "My New Project",
          "widgetId": "3fa85f64-5717-4562-b3fc-2c963f66afa6"
        }
      },
      "GenerateCodeRequest": {
        "type": "object",
        "description": "Request body for generating new code.",
        "required": [
          "vmSessionId",
          "repositoryId",
          "prompt"
        ],
        "properties": {
          "vmSessionId": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the VM session where code should be generated."
          },
          "repositoryId": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the repository to add the generated code to."
          },
          "prompt": {
            "type": "string",
            "description": "The prompt or requirements for code generation.",
            "example": "Create a Svelte store for user authentication."
          },
          "widgetId": {
            "type": "string",
            "format": "uuid",
            "nullable": true,
            "description": "Optional Widget ID this code generation relates to."
          },
          "componentId": {
            "type": "string",
            "format": "uuid",
            "nullable": true,
            "description": "Optional Component ID this code generation relates to."
          },
          "planId": {
            "type": "string",
            "format": "uuid",
            "nullable": true,
            "description": "Optional ID of an existing development plan."
          },
          "developmentTaskId": {
            "type": "string",
            "format": "uuid",
            "nullable": true,
            "description": "Optional ID of a specific task within a development plan."
          }
        },
        "example": {
          "vmSessionId": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
          "repositoryId": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
          "prompt": "Create a Svelte store for user authentication.",
          "widgetId": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
          "componentId": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
          "planId": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
          "developmentTaskId": "3fa85f64-5717-4562-b3fc-2c963f66afa6"
        }
      },
      "RepositoryResponse": {
        "type": "object",
        "description": "Represents a managed Git repository as returned by the API.",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Internal UUID for the repository record.",
            "example": "c5f8e9a0-1b2c-3d4e-5f6a-7b8c9d0e1f2a"
          },
          "userId": {
            "type": "string",
            "format": "uuid",
            "description": "UUID of the user who owns the repository.",
            "example": "098f6bcd-4621-4369-887f-d61de4a86a12"
          },
          "gitlabPath": {
            "type": "string",
            "description": "Path of the repository on GitLab (e.g., namespace/project-name).",
            "example": "andu-dev/widget-123e4567"
          },
          "gitlabProjectId": {
            "type": "integer",
            "description": "Numeric ID of the project on GitLab.",
            "example": 54321
          },
          "webUrl": {
            "type": "string",
            "format": "url",
            "description": "URL to the repository on GitLab.",
            "example": "https://gitlab.com/andu-dev/widget-123e4567"
          },
          "widgetId": {
            "type": "string",
            "format": "uuid",
            "description": "Optional UUID of the associated widget.",
            "example": "123e4567-e89b-12d3-a456-426614174001"
          },
          "name": {
            "type": "string",
            "description": "Original name provided for the repository.",
            "example": "My Awesome Widget"
          },
          "status": {
            "type": "string",
            "enum": [
              "initializing",
              "ready",
              "error"
            ],
            "description": "Current status of the repository.",
            "example": "ready"
          },
          "error": {
            "type": "string",
            "description": "Error message if initialization failed.",
            "example": "GitLab API error: Project already exists"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp when the repository record was created.",
            "example": "2023-10-28T10:00:00Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp when the repository record was last updated.",
            "example": "2023-10-28T10:05:00Z"
          }
        },
        "example": {
          "id": "c5f8e9a0-1b2c-3d4e-5f6a-7b8c9d0e1f2a",
          "userId": "098f6bcd-4621-4369-887f-d61de4a86a12",
          "gitlabPath": "andu-dev/widget-123e4567",
          "gitlabProjectId": 54321,
          "webUrl": "https://gitlab.com/andu-dev/widget-123e4567",
          "widgetId": "123e4567-e89b-12d3-a456-426614174001",
          "name": "My Awesome Widget",
          "status": "ready",
          "error": "GitLab API error: Project already exists",
          "createdAt": "2023-10-28T10:00:00Z",
          "updatedAt": "2023-10-28T10:05:00Z"
        }
      },
      "InitRepoRequest": {
        "type": "object",
        "description": "Request body for initializing a new repository.",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Name for the new repository. Will be used to generate the slug.",
            "example": "My New Project"
          },
          "widgetId": {
            "type": "string",
            "format": "uuid",
            "description": "Optional UUID of the widget to associate with this repository.",
            "example": "123e4567-e89b-12d3-a456-426614174001"
          }
        },
        "example": {
          "name": "My New Project",
          "widgetId": "123e4567-e89b-12d3-a456-426614174001"
        }
      },
      "SyncRepoResponse": {
        "type": "object",
        "description": "Response body for a repository synchronization request.",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "accepted",
              "synced",
              "conflict",
              "error",
              "not_implemented"
            ],
            "description": "Status of the sync operation (accepted means queued/placeholder).",
            "example": "accepted"
          },
          "message": {
            "type": "string",
            "description": "Additional details about the sync status.",
            "example": "Sync operation is not fully implemented yet."
          }
        },
        "example": {
          "status": "accepted",
          "message": "Sync operation is not fully implemented yet."
        }
      },
      "DevelopmentTask": {
        "type": "object",
        "description": "Represents a single task within a development plan.",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Unique ID for the task."
          },
          "plan_id": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the parent development plan."
          },
          "title": {
            "type": "string",
            "description": "Concise title of the task.",
            "example": "Implement user login component"
          },
          "description": {
            "type": "string",
            "description": "Detailed description of the task requirements.",
            "example": "Create a Svelte component for user login using email and password."
          },
          "status": {
            "type": "string",
            "enum": [
              "pending",
              "in_progress",
              "completed",
              "failed"
            ],
            "description": "Current status of the task.",
            "example": "pending"
          },
          "dependencies": {
            "type": "array",
            "items": {
              "type": "string",
              "format": "uuid"
            },
            "description": "List of task IDs this task depends on."
          },
          "order": {
            "type": "integer",
            "description": "Execution order within the plan.",
            "example": 1
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp when the task was created."
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp when the task was last updated."
          }
        },
        "example": {
          "id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
          "plan_id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
          "title": "Implement user login component",
          "description": "Create a Svelte component for user login using email and password.",
          "status": "pending",
          "dependencies": [],
          "order": 1,
          "created_at": "2026-01-12T15:18:20.985Z",
          "updated_at": "2026-01-12T15:18:20.985Z"
        }
      },
      "DevelopmentPlan": {
        "type": "object",
        "description": "Represents a development plan generated from requirements.",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Unique ID for the development plan."
          },
          "user_id": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the user who owns the plan."
          },
          "repository_id": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the associated repository."
          },
          "widget_id": {
            "type": "string",
            "format": "uuid",
            "description": "Optional ID of the target widget."
          },
          "component_id": {
            "type": "string",
            "format": "uuid",
            "description": "Optional ID of the target component."
          },
          "requirements": {
            "type": "string",
            "description": "Original requirements used to generate the plan."
          },
          "tasks": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DevelopmentTask"
            },
            "description": "List of tasks included in the plan."
          },
          "status": {
            "type": "string",
            "enum": [
              "pending",
              "in_progress",
              "completed",
              "failed"
            ],
            "description": "Overall status of the development plan.",
            "example": "pending"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp when the plan was created."
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp when the plan was last updated."
          }
        },
        "example": {
          "id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
          "user_id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
          "repository_id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
          "widget_id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
          "component_id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
          "requirements": "Example requirements",
          "tasks": [
            "Example DevelopmentTask"
          ],
          "status": "pending",
          "created_at": "2026-01-12T15:18:20.985Z",
          "updated_at": "2026-01-12T15:18:20.986Z"
        }
      },
      "ExecuteRemoteGitPushBody": {
        "type": "object",
        "required": [
          "localPath",
          "branch"
        ],
        "properties": {
          "localPath": {
            "type": "string",
            "description": "The local repository path within the VM where the push should be executed.",
            "example": "/home/user/repo"
          },
          "branch": {
            "type": "string",
            "description": "The target branch name for the git push operation.",
            "example": "main"
          }
        },
        "example": {
          "localPath": "/home/user/repo",
          "branch": "main"
        }
      },
      "ErrorResponse": {
        "type": "object",
        "required": [
          "success",
          "error"
        ],
        "properties": {
          "message": {
            "type": "string",
            "description": "Error message describing what went wrong.",
            "example": "Resource not found."
          },
          "details": {
            "type": "string",
            "description": "Additional details about the error (optional).",
            "example": "VM session with ID abc-123 could not be located."
          },
          "success": {
            "type": "boolean",
            "example": false,
            "description": "Indicates the request failed"
          },
          "error": {
            "type": "object",
            "properties": {
              "code": {
                "type": "string",
                "example": "VALIDATION_ERROR",
                "description": "Machine-readable error code"
              },
              "message": {
                "type": "string",
                "example": "Invalid request parameters",
                "description": "Human-readable error message"
              },
              "suggestedAction": {
                "type": "string",
                "example": "Please provide a valid email address",
                "description": "Suggested action to resolve the error"
              },
              "correlationId": {
                "type": "string",
                "format": "uuid",
                "example": "req_123e4567-e89b-12d3-a456-426614174000",
                "description": "Request correlation ID for tracing"
              },
              "timestamp": {
                "type": "string",
                "format": "date-time",
                "example": "2023-10-26T10:00:00.000Z",
                "description": "When the error occurred"
              },
              "param": {
                "type": "string",
                "example": "email",
                "description": "Parameter that caused the error (if applicable)"
              },
              "docUrl": {
                "type": "string",
                "example": "https://docs.widgetic.com/errors#validation",
                "description": "Link to documentation about this error"
              },
              "retryAfter": {
                "type": "integer",
                "example": 60,
                "description": "Seconds to wait before retrying (for rate limits)"
              },
              "details": {
                "type": "object",
                "description": "Additional error details"
              }
            },
            "required": [
              "code",
              "message",
              "timestamp"
            ]
          }
        },
        "example": {
          "message": "Resource not found.",
          "details": "VM session with ID abc-123 could not be located.",
          "success": false,
          "error": {}
        }
      },
      "AgentTasksIdCancelPost200Response": {
        "type": "object",
        "description": "Response for successfully canceling a task",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Indicates if the operation was successful",
            "example": true
          },
          "message": {
            "type": "string",
            "description": "Descriptive message about the cancellation",
            "example": "Task canceled successfully"
          }
        },
        "example": {
          "success": true,
          "message": "Task canceled successfully"
        }
      },
      "DailySummary": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the daily summary record",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "compositionId": {
            "type": "string",
            "description": "ID of the composition this summary is for",
            "example": "comp_123"
          },
          "date": {
            "type": "string",
            "format": "date",
            "description": "Date for this summary (YYYY-MM-DD format)",
            "example": "2024-01-15"
          },
          "totalViews": {
            "type": "integer",
            "description": "Total number of views for this day",
            "example": 1250
          },
          "uniqueViews": {
            "type": "integer",
            "description": "Number of unique views for this day",
            "example": 890
          },
          "totalInteractions": {
            "type": "integer",
            "description": "Total number of interactions for this day",
            "example": 156
          },
          "uniqueInteractions": {
            "type": "integer",
            "description": "Number of unique interactions for this day",
            "example": 123
          },
          "totalSessionTime": {
            "type": "integer",
            "description": "Total session time in seconds for this day",
            "example": 18750
          },
          "averageSessionTime": {
            "type": "number",
            "format": "float",
            "description": "Average session time in seconds for this day",
            "example": 150.5
          },
          "bounceRate": {
            "type": "number",
            "format": "float",
            "description": "Bounce rate as a decimal (0.0 to 1.0)",
            "example": 0.34
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "When this record was created",
            "example": "2024-01-15T10:00:00Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "When this record was last updated",
            "example": "2024-01-15T23:59:59Z"
          }
        },
        "required": [
          "id",
          "compositionId",
          "date",
          "totalViews",
          "uniqueViews",
          "totalInteractions",
          "uniqueInteractions",
          "totalSessionTime",
          "averageSessionTime",
          "bounceRate"
        ],
        "example": {
          "id": "123e4567-e89b-12d3-a456-426614174000",
          "compositionId": "comp_123",
          "date": "2024-01-15",
          "totalViews": 1250,
          "uniqueViews": 890,
          "totalInteractions": 156,
          "uniqueInteractions": 123,
          "totalSessionTime": 18750,
          "averageSessionTime": 150.5,
          "bounceRate": 0.34,
          "createdAt": "2024-01-15T10:00:00Z",
          "updatedAt": "2024-01-15T23:59:59Z"
        }
      },
      "WeeklySummary": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Unique identifier for the weekly summary record",
            "example": 1
          },
          "compositionId": {
            "type": "string",
            "description": "ID of the composition this summary is for",
            "example": "comp_123"
          },
          "year": {
            "type": "integer",
            "description": "Year for this summary",
            "example": 2024
          },
          "weekNumber": {
            "type": "integer",
            "description": "ISO week number (1-53)",
            "example": 3
          },
          "startDate": {
            "type": "string",
            "format": "date",
            "description": "Start date of the week",
            "example": "2024-01-15"
          },
          "endDate": {
            "type": "string",
            "format": "date",
            "description": "End date of the week",
            "example": "2024-01-21"
          },
          "totalViews": {
            "type": "integer",
            "description": "Total views for this week",
            "example": 8750
          },
          "uniqueViews": {
            "type": "integer",
            "description": "Unique views for this week",
            "example": 6230
          },
          "totalInteractions": {
            "type": "integer",
            "description": "Total interactions for this week",
            "example": 1092
          },
          "uniqueInteractions": {
            "type": "integer",
            "description": "Unique interactions for this week",
            "example": 861
          },
          "totalSessionTime": {
            "type": "integer",
            "description": "Total session time in seconds for this week",
            "example": 131250
          },
          "averageSessionTime": {
            "type": "number",
            "format": "float",
            "description": "Average session time in seconds for this week",
            "example": 150
          },
          "bounceRate": {
            "type": "number",
            "format": "float",
            "description": "Bounce rate as a decimal (0.0 to 1.0)",
            "example": 0.35
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "When this record was created",
            "example": "2024-01-22T10:00:00Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "When this record was last updated",
            "example": "2024-01-22T10:00:00Z"
          }
        },
        "required": [
          "id",
          "compositionId",
          "year",
          "weekNumber",
          "startDate",
          "endDate",
          "totalViews",
          "uniqueViews",
          "totalInteractions",
          "uniqueInteractions",
          "totalSessionTime",
          "averageSessionTime",
          "bounceRate"
        ],
        "example": {
          "id": 1,
          "compositionId": "comp_123",
          "year": 2024,
          "weekNumber": 3,
          "startDate": "2024-01-15",
          "endDate": "2024-01-21",
          "totalViews": 8750,
          "uniqueViews": 6230,
          "totalInteractions": 1092,
          "uniqueInteractions": 861,
          "totalSessionTime": 131250,
          "averageSessionTime": 150,
          "bounceRate": 0.35,
          "createdAt": "2024-01-22T10:00:00Z",
          "updatedAt": "2024-01-22T10:00:00Z"
        }
      },
      "MonthlySummary": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Unique identifier for the monthly summary record",
            "example": 1
          },
          "compositionId": {
            "type": "string",
            "description": "ID of the composition this summary is for",
            "example": "comp_123"
          },
          "year": {
            "type": "integer",
            "description": "Year for this summary",
            "example": 2024
          },
          "month": {
            "type": "integer",
            "description": "Month number (1-12)",
            "example": 1
          },
          "startDate": {
            "type": "string",
            "format": "date",
            "description": "Start date of the month",
            "example": "2024-01-01"
          },
          "endDate": {
            "type": "string",
            "format": "date",
            "description": "End date of the month",
            "example": "2024-01-31"
          },
          "totalViews": {
            "type": "integer",
            "description": "Total views for this month",
            "example": 37500
          },
          "uniqueViews": {
            "type": "integer",
            "description": "Unique views for this month",
            "example": 26750
          },
          "totalInteractions": {
            "type": "integer",
            "description": "Total interactions for this month",
            "example": 4680
          },
          "uniqueInteractions": {
            "type": "integer",
            "description": "Unique interactions for this month",
            "example": 3690
          },
          "totalSessionTime": {
            "type": "integer",
            "description": "Total session time in seconds for this month",
            "example": 562500
          },
          "averageSessionTime": {
            "type": "number",
            "format": "float",
            "description": "Average session time in seconds for this month",
            "example": 150
          },
          "bounceRate": {
            "type": "number",
            "format": "float",
            "description": "Bounce rate as a decimal (0.0 to 1.0)",
            "example": 0.34
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "When this record was created",
            "example": "2024-02-01T10:00:00Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "When this record was last updated",
            "example": "2024-02-01T10:00:00Z"
          }
        },
        "required": [
          "id",
          "compositionId",
          "year",
          "month",
          "startDate",
          "endDate",
          "totalViews",
          "uniqueViews",
          "totalInteractions",
          "uniqueInteractions",
          "totalSessionTime",
          "averageSessionTime",
          "bounceRate"
        ],
        "example": {
          "id": 1,
          "compositionId": "comp_123",
          "year": 2024,
          "month": 1,
          "startDate": "2024-01-01",
          "endDate": "2024-01-31",
          "totalViews": 37500,
          "uniqueViews": 26750,
          "totalInteractions": 4680,
          "uniqueInteractions": 3690,
          "totalSessionTime": 562500,
          "averageSessionTime": 150,
          "bounceRate": 0.34,
          "createdAt": "2024-02-01T10:00:00Z",
          "updatedAt": "2024-02-01T10:00:00Z"
        }
      },
      "DeviceBreakdown": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the device breakdown record",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "compositionId": {
            "type": "string",
            "description": "ID of the composition this breakdown is for",
            "example": "comp_123"
          },
          "date": {
            "type": "string",
            "format": "date",
            "description": "Date for this device breakdown",
            "example": "2024-01-15"
          },
          "deviceType": {
            "type": "string",
            "description": "Type of device (desktop, mobile, tablet)",
            "example": "desktop"
          },
          "views": {
            "type": "integer",
            "description": "Number of views from this device type",
            "example": 850
          },
          "uniqueUsers": {
            "type": "integer",
            "description": "Number of unique users from this device type",
            "example": 605
          },
          "avgSessionDuration": {
            "type": "number",
            "format": "float",
            "description": "Average session duration in seconds for this device type",
            "example": 180.5
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "When this record was created",
            "example": "2024-01-15T10:00:00Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "When this record was last updated",
            "example": "2024-01-15T23:59:59Z"
          }
        },
        "required": [
          "id",
          "compositionId",
          "date",
          "deviceType",
          "views",
          "uniqueUsers",
          "avgSessionDuration"
        ],
        "example": {
          "id": "123e4567-e89b-12d3-a456-426614174000",
          "compositionId": "comp_123",
          "date": "2024-01-15",
          "deviceType": "desktop",
          "views": 850,
          "uniqueUsers": 605,
          "avgSessionDuration": 180.5,
          "createdAt": "2024-01-15T10:00:00Z",
          "updatedAt": "2024-01-15T23:59:59Z"
        }
      },
      "Geography": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Unique identifier for the geography record",
            "example": 1
          },
          "composition_id": {
            "type": "string",
            "description": "ID of the composition this geography data is for",
            "example": "comp_123"
          },
          "date": {
            "type": "string",
            "format": "date",
            "description": "Date for this geography data",
            "example": "2024-01-15"
          },
          "country": {
            "type": "string",
            "description": "Country name",
            "example": "United States"
          },
          "region": {
            "type": "string",
            "description": "Region or state name",
            "example": "California"
          },
          "city": {
            "type": "string",
            "description": "City name",
            "example": "San Francisco"
          },
          "views": {
            "type": "integer",
            "description": "Number of views from this location",
            "example": 425
          },
          "unique_users": {
            "type": "integer",
            "description": "Number of unique users from this location",
            "example": 301
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "description": "When this record was created",
            "example": "2024-01-15T10:00:00Z"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "description": "When this record was last updated",
            "example": "2024-01-15T23:59:59Z"
          }
        },
        "required": [
          "id",
          "composition_id",
          "date",
          "country",
          "views",
          "unique_users"
        ],
        "example": {
          "id": 1,
          "composition_id": "comp_123",
          "date": "2024-01-15",
          "country": "United States",
          "region": "California",
          "city": "San Francisco",
          "views": 425,
          "unique_users": 301,
          "created_at": "2024-01-15T10:00:00Z",
          "updated_at": "2024-01-15T23:59:59Z"
        }
      },
      "Referrers": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Unique identifier for the referrer record",
            "example": 1
          },
          "composition_id": {
            "type": "string",
            "description": "ID of the composition this referrer data is for",
            "example": "comp_123"
          },
          "date": {
            "type": "string",
            "format": "date",
            "description": "Date for this referrer data",
            "example": "2024-01-15"
          },
          "source": {
            "type": "string",
            "description": "Referrer source domain",
            "example": "google.com"
          },
          "source_url": {
            "type": "string",
            "description": "Full referrer URL",
            "example": "https://google.com/search?q=widgets"
          },
          "views": {
            "type": "integer",
            "description": "Number of views from this referrer",
            "example": 312
          },
          "unique_users": {
            "type": "integer",
            "description": "Number of unique users from this referrer",
            "example": 278
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "description": "When this record was created",
            "example": "2024-01-15T10:00:00Z"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "description": "When this record was last updated",
            "example": "2024-01-15T23:59:59Z"
          }
        },
        "required": [
          "id",
          "composition_id",
          "date",
          "source",
          "views",
          "unique_users"
        ],
        "example": {
          "id": 1,
          "composition_id": "comp_123",
          "date": "2024-01-15",
          "source": "google.com",
          "source_url": "https://google.com/search?q=widgets",
          "views": 312,
          "unique_users": 278,
          "created_at": "2024-01-15T10:00:00Z",
          "updated_at": "2024-01-15T23:59:59Z"
        }
      },
      "EventsTimeline": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Unique identifier for the event record",
            "example": 1
          },
          "composition_id": {
            "type": "string",
            "description": "ID of the composition this event is for",
            "example": "comp_123"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "description": "When the event occurred",
            "example": "2024-01-15T14:23:15Z"
          },
          "event_type": {
            "type": "string",
            "description": "Type of event (view, interaction, click, etc.)",
            "example": "interaction"
          },
          "event_data": {
            "type": "object",
            "description": "Additional event data as JSON object",
            "example": {
              "button_id": "submit",
              "page": "contact"
            }
          },
          "user_id": {
            "type": "string",
            "description": "ID of the user who triggered the event",
            "example": "user_456"
          },
          "session_id": {
            "type": "string",
            "description": "ID of the session when the event occurred",
            "example": "sess_789"
          },
          "ip_address": {
            "type": "string",
            "description": "IP address of the user",
            "example": "192.168.1.1"
          },
          "user_agent": {
            "type": "string",
            "description": "User agent string of the browser",
            "example": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"
          },
          "referrer": {
            "type": "string",
            "description": "Referrer URL if available",
            "example": "https://google.com/search?q=widgets"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "description": "When this record was created",
            "example": "2024-01-15T14:23:15Z"
          }
        },
        "required": [
          "id",
          "composition_id",
          "timestamp",
          "event_type"
        ],
        "example": {
          "id": 1,
          "composition_id": "comp_123",
          "timestamp": "2024-01-15T14:23:15Z",
          "event_type": "interaction",
          "event_data": {
            "button_id": "submit",
            "page": "contact"
          },
          "user_id": "user_456",
          "session_id": "sess_789",
          "ip_address": "192.168.1.1",
          "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",
          "referrer": "https://google.com/search?q=widgets",
          "created_at": "2024-01-15T14:23:15Z"
        }
      },
      "NewAnalyticsEvent": {
        "type": "object",
        "properties": {
          "composition_id": {
            "type": "string",
            "description": "ID of the composition this event is for",
            "example": "comp_123"
          },
          "event_type": {
            "type": "string",
            "description": "Type of event (view, interaction, click, etc.)",
            "example": "interaction"
          },
          "event_data": {
            "type": "object",
            "description": "Additional event data as JSON object",
            "example": {
              "button_id": "submit",
              "page": "contact"
            }
          },
          "user_id": {
            "type": "string",
            "description": "ID of the user who triggered the event",
            "example": "user_456"
          },
          "session_id": {
            "type": "string",
            "description": "ID of the session when the event occurred",
            "example": "sess_789"
          },
          "ip_address": {
            "type": "string",
            "description": "IP address of the user",
            "example": "192.168.1.1"
          },
          "user_agent": {
            "type": "string",
            "description": "User agent string of the browser",
            "example": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"
          },
          "referrer": {
            "type": "string",
            "description": "Referrer URL if available",
            "example": "https://google.com/search?q=widgets"
          }
        },
        "required": [
          "composition_id",
          "event_type"
        ],
        "example": {
          "composition_id": "comp_123",
          "event_type": "interaction",
          "event_data": {
            "button_id": "submit",
            "page": "contact"
          },
          "user_id": "user_456",
          "session_id": "sess_789",
          "ip_address": "192.168.1.1",
          "user_agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",
          "referrer": "https://google.com/search?q=widgets"
        }
      },
      "AnalyticsDashboard": {
        "type": "object",
        "properties": {
          "summary": {
            "type": "object",
            "properties": {
              "total_views": {
                "type": "integer",
                "description": "Total views in the selected period",
                "example": 12543
              },
              "unique_views": {
                "type": "integer",
                "description": "Unique views in the selected period",
                "example": 8912
              },
              "total_interactions": {
                "type": "integer",
                "description": "Total interactions in the selected period",
                "example": 1564
              },
              "unique_interactions": {
                "type": "integer",
                "description": "Unique interactions in the selected period",
                "example": 1235
              },
              "average_session_time": {
                "type": "number",
                "format": "float",
                "description": "Average session time in seconds",
                "example": 156.7
              },
              "bounce_rate": {
                "type": "number",
                "format": "float",
                "description": "Bounce rate as a decimal (0.0 to 1.0)",
                "example": 0.34
              }
            }
          },
          "devices": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DeviceBreakdown"
            },
            "description": "Device breakdown data"
          },
          "geography": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Geography"
            },
            "description": "Geographic distribution data"
          },
          "referrers": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Referrers"
            },
            "description": "Referrer sources data"
          },
          "events": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/EventsTimeline"
            },
            "description": "Recent events (if requested)"
          }
        },
        "required": [
          "summary",
          "devices",
          "geography",
          "referrers"
        ],
        "example": {
          "summary": {},
          "devices": [
            "Example DeviceBreakdown"
          ],
          "geography": [
            "Example Geography"
          ],
          "referrers": [
            "Example Referrers"
          ],
          "events": [
            "Example EventsTimeline"
          ]
        }
      },
      "BatchOperation": {
        "type": "object",
        "required": [
          "method",
          "path"
        ],
        "properties": {
          "method": {
            "type": "string",
            "enum": [
              "GET",
              "POST",
              "PUT",
              "DELETE"
            ],
            "description": "HTTP method for the operation"
          },
          "path": {
            "type": "string",
            "description": "API endpoint path"
          },
          "body": {
            "type": "object",
            "description": "Request body for POST/PUT operations"
          },
          "headers": {
            "type": "object",
            "description": "Additional headers for the operation"
          }
        },
        "example": {
          "method": "Example method",
          "path": "Example path",
          "body": {},
          "headers": {}
        }
      },
      "BatchResult": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "type": "object",
            "description": "Response data if operation succeeded"
          },
          "error": {
            "type": "string",
            "description": "Error message if operation failed"
          },
          "statusCode": {
            "type": "integer",
            "description": "HTTP status code of the operation"
          }
        },
        "example": {
          "success": true,
          "data": {},
          "error": "Example error",
          "statusCode": 42
        }
      },
      "Canvas": {
        "type": "object",
        "required": [
          "id",
          "persistence_key",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Unique identifier for the canvas",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "persistence_key": {
            "type": "string",
            "description": "Key used for persistent storage and reference",
            "example": "canvas_xyz123"
          },
          "canvas_content": {
            "type": "object",
            "description": "JSON content of the canvas, containing layout and configuration",
            "example": {
              "version": 1,
              "elements": [],
              "settings": {}
            }
          },
          "widget_components": {
            "type": "string",
            "format": "uuid",
            "description": "UUID reference to associated widget components",
            "example": "123e4567-e89b-12d3-a456-426614174001"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp when the canvas was created",
            "example": "2023-01-01T00:00:00Z"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp when the canvas was last updated",
            "example": "2023-01-02T00:00:00Z"
          }
        },
        "example": {
          "id": "123e4567-e89b-12d3-a456-426614174000",
          "persistence_key": "canvas_xyz123",
          "canvas_content": {
            "version": 1,
            "elements": [],
            "settings": {}
          },
          "widget_components": "123e4567-e89b-12d3-a456-426614174001",
          "created_at": "2023-01-01T00:00:00Z",
          "updated_at": "2023-01-02T00:00:00Z"
        }
      },
      "CreateCanvasRequest": {
        "type": "object",
        "required": [
          "persistence_key"
        ],
        "properties": {
          "persistence_key": {
            "type": "string",
            "description": "Key used for persistent storage and reference",
            "example": "canvas_xyz123"
          },
          "canvas_content": {
            "type": "object",
            "description": "JSON content of the canvas, containing layout and configuration",
            "example": {
              "version": 1,
              "elements": [],
              "settings": {}
            }
          },
          "widget_components": {
            "type": "string",
            "format": "uuid",
            "description": "UUID reference to associated widget components",
            "example": "123e4567-e89b-12d3-a456-426614174001"
          }
        },
        "example": {
          "persistence_key": "canvas_xyz123",
          "canvas_content": {
            "version": 1,
            "elements": [],
            "settings": {}
          },
          "widget_components": "123e4567-e89b-12d3-a456-426614174001"
        }
      },
      "UpdateCanvasRequest": {
        "type": "object",
        "properties": {
          "persistence_key": {
            "type": "string",
            "description": "Updated key used for persistent storage and reference",
            "example": "updated_canvas_xyz123"
          },
          "canvas_content": {
            "type": "object",
            "description": "Updated JSON content of the canvas",
            "example": {
              "version": 2,
              "elements": [
                {
                  "id": "elem1"
                }
              ],
              "settings": {
                "theme": "dark"
              }
            }
          },
          "widget_components": {
            "type": "string",
            "format": "uuid",
            "description": "Updated UUID reference to associated widget components",
            "example": "123e4567-e89b-12d3-a456-426614174002"
          }
        },
        "example": {
          "persistence_key": "updated_canvas_xyz123",
          "canvas_content": {
            "version": 2,
            "elements": [
              {
                "id": "elem1"
              }
            ],
            "settings": {
              "theme": "dark"
            }
          },
          "widget_components": "123e4567-e89b-12d3-a456-426614174002"
        }
      },
      "AdminStats": {
        "type": "object",
        "properties": {
          "totalUsers": {
            "type": "integer",
            "example": 100
          },
          "activeSubscriptions": {
            "type": "integer",
            "example": 80
          },
          "storageUsageGb": {
            "type": "number",
            "format": "float",
            "example": 2450.5
          },
          "generatedAt": {
            "type": "string",
            "format": "date-time",
            "example": "2023-01-02T00:00:00Z"
          }
        },
        "example": {
          "totalUsers": 100,
          "activeSubscriptions": 80,
          "storageUsageGb": 2450.5,
          "generatedAt": "2023-01-02T00:00:00Z"
        }
      },
      "RegistrySettings": {
        "type": "object",
        "properties": {
          "autoApproveNewComponents": {
            "type": "boolean",
            "example": false
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "example": "2023-01-02T00:00:00Z"
          }
        },
        "example": {
          "autoApproveNewComponents": false,
          "updatedAt": "2023-01-02T00:00:00Z"
        }
      },
      "SystemStatus": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "healthy",
              "degraded",
              "down"
            ],
            "example": "healthy"
          },
          "services": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "example": {
              "database": "healthy",
              "cache": "healthy"
            }
          }
        },
        "example": {
          "status": "healthy",
          "services": {
            "database": "healthy",
            "cache": "healthy"
          }
        }
      },
      "UpdateDomainRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "example": "example.com"
          }
        },
        "example": {
          "name": "example.com"
        }
      },
      "ApiKeyUsageLog": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "example": "log_123"
          },
          "keyId": {
            "type": "string",
            "example": "key_456"
          },
          "action": {
            "type": "string",
            "example": "READ"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "example": "2023-01-02T00:00:00Z"
          }
        },
        "example": {
          "id": "log_123",
          "keyId": "key_456",
          "action": "READ",
          "createdAt": "2023-01-02T00:00:00Z"
        }
      },
      "Widget": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "example": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
            "description": "Unique identifier for the widget."
          },
          "name": {
            "type": "string",
            "example": "Chart Widget",
            "description": "Name of the widget."
          },
          "creatorId": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the user who created the widget.",
            "example": "a4d8b6e9-3c2d-4a1f-8b9c-5e2d3f4a1b6c"
          },
          "description": {
            "type": "string",
            "nullable": true,
            "description": "Description of the widget's purpose and functionality.",
            "example": "Interactive chart widget for data visualization"
          },
          "type": {
            "type": "string",
            "description": "Type of widget (e.g., chart, form, gallery).",
            "example": "chart"
          },
          "content": {
            "type": "object",
            "description": "Content configuration for the widget.",
            "additionalProperties": true,
            "example": {
              "chartType": "bar",
              "dataSource": "api"
            }
          },
          "isPublic": {
            "type": "boolean",
            "description": "Whether the widget is publicly available.",
            "example": false
          },
          "isDraft": {
            "type": "boolean",
            "description": "Whether the widget is a draft.",
            "example": true
          },
          "shareId": {
            "type": "string",
            "nullable": true,
            "description": "Unique ID for sharing the widget publicly.",
            "example": "shwgt_7f1d34acf2"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "When the widget was created.",
            "example": "2025-09-15T10:23:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "When the widget was last updated.",
            "example": "2025-09-16T08:12:45.000Z"
          },
          "jsPath": {
            "type": "string",
            "nullable": true,
            "description": "Path to the JavaScript file for this widget.",
            "example": "/widgets/chart/main.js"
          },
          "canvasId": {
            "type": "string",
            "format": "uuid",
            "nullable": true,
            "description": "ID of the canvas associated with this widget.",
            "example": "9f0c6b54-3e8f-4a2a-8b7d-1c5c6d9e0a1b"
          },
          "repoId": {
            "type": "string",
            "nullable": true,
            "description": "Repository identifier for source code.",
            "example": "user/chart-widget"
          },
          "databaseId": {
            "type": "string",
            "nullable": true,
            "description": "Neon database name associated with this widget.",
            "example": "widget_3fa85f64_5717_4562_b3fc_2c963f66afa6"
          },
          "version": {
            "type": "number",
            "format": "float",
            "nullable": true,
            "description": "Version number of the widget.",
            "example": 1
          },
          "componentsMetadata": {
            "type": "array",
            "nullable": true,
            "description": "Metadata for generated components within this widget.",
            "items": {
              "type": "object",
              "properties": {
                "componentId": {
                  "type": "string",
                  "format": "uuid",
                  "example": "cd2a4567-e89b-12d3-a456-426614174000"
                },
                "path": {
                  "type": "string",
                  "example": "src/components/Button.svelte"
                },
                "planId": {
                  "type": "string",
                  "format": "uuid",
                  "example": "bb1c4d67-9f8e-4b3a-bb8f-5c4e3d2f1b0a"
                },
                "status": {
                  "type": "string",
                  "nullable": true,
                  "example": "ready"
                },
                "position": {
                  "type": "object",
                  "nullable": true,
                  "properties": {
                    "x": {
                      "type": "number",
                      "example": 120
                    },
                    "y": {
                      "type": "number",
                      "example": 240
                    }
                  }
                },
                "size": {
                  "type": "object",
                  "nullable": true,
                  "properties": {
                    "width": {
                      "type": "number",
                      "example": 320
                    },
                    "height": {
                      "type": "number",
                      "example": 180
                    }
                  }
                }
              }
            }
          },
          "cpgSchemaId": {
            "type": "string",
            "nullable": true,
            "description": "ID linking to the widget's code graph schema.",
            "example": "cpg_4b3a2d1f9e8c7b6a"
          },
          "lastCpgCommitSha": {
            "type": "string",
            "nullable": true,
            "description": "Last Git commit SHA analyzed for code graph.",
            "example": "a1b2c3d4e5f6g7h8i9j0"
          },
          "vmTemplateId": {
            "type": "string",
            "nullable": true,
            "description": "ID of the VM template used to create this widget.",
            "example": "tmpl_9f8e7d6c5b4a"
          },
          "vmTemplateVersion": {
            "type": "string",
            "nullable": true,
            "description": "Version of the VM template used to create this widget.",
            "example": "v2.3.0"
          },
          "vmTemplateType": {
            "type": "string",
            "nullable": true,
            "description": "Type of the VM template used to create this widget.",
            "example": "development"
          },
          "organizationId": {
            "type": "string",
            "format": "uuid",
            "nullable": true,
            "description": "Organization ID if created in an organization workspace.",
            "example": "5e2d3f4a-1b6c-4a1f-8b9c-3c2d4e5f6a7b"
          },
          "projectFolder": {
            "type": "string",
            "nullable": true,
            "description": "Project folder reference for organization widgets.",
            "example": "marketing/q4-launch"
          },
          "workspaceType": {
            "type": "string",
            "enum": [
              "personal",
              "organization"
            ],
            "nullable": true,
            "description": "Workspace type when created.",
            "example": "personal"
          }
        },
        "description": "Represents a widget in the system.",
        "example": {
          "id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
          "name": "Chart Widget",
          "creatorId": "a4d8b6e9-3c2d-4a1f-8b9c-5e2d3f4a1b6c",
          "description": "Interactive chart widget for data visualization",
          "type": "chart",
          "content": {
            "chartType": "bar",
            "dataSource": "api"
          },
          "isPublic": false,
          "isDraft": true,
          "shareId": "shwgt_7f1d34acf2",
          "createdAt": "2025-09-15T10:23:00.000Z",
          "updatedAt": "2025-09-16T08:12:45.000Z",
          "jsPath": "/widgets/chart/main.js",
          "canvasId": "9f0c6b54-3e8f-4a2a-8b7d-1c5c6d9e0a1b",
          "repoId": "user/chart-widget",
          "databaseId": "widget_3fa85f64_5717_4562_b3fc_2c963f66afa6",
          "version": 1,
          "componentsMetadata": [],
          "cpgSchemaId": "cpg_4b3a2d1f9e8c7b6a",
          "lastCpgCommitSha": "a1b2c3d4e5f6g7h8i9j0",
          "vmTemplateId": "tmpl_9f8e7d6c5b4a",
          "vmTemplateVersion": "v2.3.0",
          "vmTemplateType": "development",
          "organizationId": "5e2d3f4a-1b6c-4a1f-8b9c-3c2d4e5f6a7b",
          "projectFolder": "marketing/q4-launch",
          "workspaceType": "personal"
        }
      },
      "SuccessResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true,
            "description": "Indicates the request was successful"
          },
          "message": {
            "type": "string",
            "example": "Operation completed successfully"
          },
          "data": {
            "type": "object",
            "description": "The response data payload"
          },
          "meta": {
            "type": "object",
            "description": "Optional metadata about the response",
            "properties": {
              "pagination": {
                "type": "object",
                "properties": {
                  "limit": {
                    "type": "integer",
                    "example": 10
                  },
                  "hasNextPage": {
                    "type": "boolean",
                    "example": false
                  },
                  "hasPreviousPage": {
                    "type": "boolean",
                    "example": false
                  },
                  "nextCursor": {
                    "type": "string",
                    "nullable": true
                  },
                  "previousCursor": {
                    "type": "string",
                    "nullable": true
                  }
                }
              }
            }
          }
        },
        "required": [
          "success",
          "data"
        ],
        "example": {
          "success": true,
          "message": "Operation completed successfully",
          "data": {},
          "meta": {}
        }
      },
      "Component": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "example": "3fa85f64-5717-4562-b3fc-2c963f66afa6"
          },
          "name": {
            "type": "string",
            "example": "Chart Component"
          },
          "description": {
            "type": "string",
            "example": "A data visualization component"
          },
          "widget_id": {
            "type": "string",
            "format": "uuid",
            "example": "3fa85f64-5717-4562-b3fc-2c963f66afa7"
          },
          "is_widget": {
            "type": "boolean",
            "example": true
          },
          "version": {
            "type": "string",
            "example": "1.0.0"
          },
          "category": {
            "type": "string",
            "example": "visualization"
          },
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "example": [
              "chart",
              "data"
            ]
          },
          "isPublic": {
            "type": "boolean",
            "example": false
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "example": "2023-01-02T00:00:00Z"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "example": "2023-01-02T00:00:00Z"
          }
        },
        "example": {
          "id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
          "name": "Chart Component",
          "description": "A data visualization component",
          "widget_id": "3fa85f64-5717-4562-b3fc-2c963f66afa7",
          "is_widget": true,
          "version": "1.0.0",
          "category": "visualization",
          "tags": [
            "chart",
            "data"
          ],
          "isPublic": false,
          "created_at": "2023-01-02T00:00:00Z",
          "updated_at": "2023-01-02T00:00:00Z"
        }
      },
      "CreateComponentRequest": {
        "type": "object",
        "required": [
          "name",
          "widget_id"
        ],
        "properties": {
          "name": {
            "type": "string",
            "example": "Chart Component"
          },
          "description": {
            "type": "string",
            "example": "A data visualization component"
          },
          "widget_id": {
            "type": "string",
            "format": "uuid",
            "example": "3fa85f64-5717-4562-b3fc-2c963f66afa7"
          },
          "is_widget": {
            "type": "boolean",
            "default": true,
            "example": true
          },
          "category": {
            "type": "string",
            "example": "visualization"
          },
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "example": [
              "chart",
              "data"
            ]
          },
          "isPublic": {
            "type": "boolean",
            "default": false,
            "example": false
          }
        },
        "example": {
          "name": "Chart Component",
          "description": "A data visualization component",
          "widget_id": "3fa85f64-5717-4562-b3fc-2c963f66afa7",
          "is_widget": true,
          "category": "visualization",
          "tags": [
            "chart",
            "data"
          ],
          "isPublic": false
        }
      },
      "UpdateComponentRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "example": "Updated Chart Component"
          },
          "description": {
            "type": "string",
            "example": "An updated data visualization component"
          },
          "category": {
            "type": "string",
            "example": "visualization"
          },
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "example": [
              "chart",
              "data",
              "updated"
            ]
          },
          "isPublic": {
            "type": "boolean",
            "example": false
          }
        },
        "example": {
          "name": "Updated Chart Component",
          "description": "An updated data visualization component",
          "category": "visualization",
          "tags": [
            "chart",
            "data",
            "updated"
          ],
          "isPublic": false
        }
      },
      "Composition": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Unique identifier for the composition",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "creatorId": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the user who created the composition",
            "example": "123e4567-e89b-12d3-a456-426614174001"
          },
          "widgetId": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the widget this composition is based on",
            "example": "123e4567-e89b-12d3-a456-426614174002"
          },
          "name": {
            "type": "string",
            "description": "Name of the composition",
            "example": "My Composition"
          },
          "content": {
            "type": "object",
            "description": "Content data for the composition",
            "example": {
              "key": "value"
            }
          },
          "status": {
            "type": "string",
            "description": "Current status of the composition",
            "enum": [
              "draft",
              "published",
              "archived"
            ],
            "example": "draft"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "When the composition was created",
            "example": "2023-01-01T00:00:00Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "When the composition was last updated",
            "example": "2023-01-02T00:00:00Z"
          },
          "embedSettings": {
            "type": "object",
            "description": "Settings for embedding the composition",
            "example": {
              "width": "100%",
              "height": "500px"
            }
          },
          "design": {
            "type": "object",
            "description": "Design settings for the composition",
            "example": {
              "theme": "light",
              "colors": {
                "primary": "#0066ff"
              }
            }
          },
          "databaseId": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the associated Neon database",
            "example": "123e4567-e89b-12d3-a456-426614174003"
          },
          "projectId": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the project this composition belongs to",
            "example": "123e4567-e89b-12d3-a456-426614174004"
          }
        },
        "required": [
          "id",
          "creatorId",
          "widgetId",
          "name",
          "content",
          "status",
          "createdAt",
          "updatedAt"
        ],
        "example": {
          "id": "123e4567-e89b-12d3-a456-426614174000",
          "creatorId": "123e4567-e89b-12d3-a456-426614174001",
          "widgetId": "123e4567-e89b-12d3-a456-426614174002",
          "name": "My Composition",
          "content": {
            "key": "value"
          },
          "status": "draft",
          "createdAt": "2023-01-01T00:00:00Z",
          "updatedAt": "2023-01-02T00:00:00Z",
          "embedSettings": {
            "width": "100%",
            "height": "500px"
          },
          "design": {
            "theme": "light",
            "colors": {
              "primary": "#0066ff"
            }
          },
          "databaseId": "123e4567-e89b-12d3-a456-426614174003",
          "projectId": "123e4567-e89b-12d3-a456-426614174004"
        }
      },
      "NewComposition": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Name of the composition",
            "example": "My New Composition"
          },
          "widgetId": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the widget this composition is based on",
            "example": "123e4567-e89b-12d3-a456-426614174002"
          },
          "creatorId": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the user creating the composition",
            "example": "123e4567-e89b-12d3-a456-426614174001"
          },
          "content": {
            "type": "object",
            "description": "Content data for the composition",
            "example": {
              "key": "value"
            }
          },
          "status": {
            "type": "string",
            "description": "Initial status of the composition",
            "default": "draft",
            "example": "draft"
          },
          "embedSettings": {
            "type": "object",
            "description": "Settings for embedding the composition",
            "example": {
              "width": "100%",
              "height": "500px"
            }
          },
          "design": {
            "type": "object",
            "description": "Design settings for the composition",
            "example": {
              "theme": "light",
              "colors": {
                "primary": "#0066ff"
              }
            }
          },
          "databaseSchema": {
            "type": "object",
            "description": "Schema definition for creating an associated database"
          },
          "projectId": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the project this composition belongs to",
            "example": "123e4567-e89b-12d3-a456-426614174004"
          }
        },
        "required": [
          "name",
          "widgetId"
        ],
        "example": {
          "name": "My New Composition",
          "widgetId": "123e4567-e89b-12d3-a456-426614174002",
          "creatorId": "123e4567-e89b-12d3-a456-426614174001",
          "content": {
            "key": "value"
          },
          "status": "draft",
          "embedSettings": {
            "width": "100%",
            "height": "500px"
          },
          "design": {
            "theme": "light",
            "colors": {
              "primary": "#0066ff"
            }
          },
          "databaseSchema": {},
          "projectId": "123e4567-e89b-12d3-a456-426614174004"
        }
      },
      "UpdateComposition": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Updated name of the composition",
            "example": "Updated Composition Name"
          },
          "widgetId": {
            "type": "string",
            "format": "uuid",
            "description": "Updated widget ID",
            "example": "123e4567-e89b-12d3-a456-426614174002"
          },
          "content": {
            "type": "object",
            "description": "Updated content data",
            "example": {
              "key": "new value"
            }
          },
          "status": {
            "type": "string",
            "description": "Updated status",
            "example": "published"
          },
          "embedSettings": {
            "type": "object",
            "description": "Updated embed settings",
            "example": {
              "width": "100%",
              "height": "600px"
            }
          },
          "design": {
            "type": "object",
            "description": "Updated design settings",
            "example": {
              "theme": "dark",
              "colors": {
                "primary": "#0044cc"
              }
            }
          },
          "projectId": {
            "type": "string",
            "format": "uuid",
            "description": "Updated project ID",
            "example": "123e4567-e89b-12d3-a456-426614174004"
          }
        },
        "example": {
          "name": "Updated Composition Name",
          "widgetId": "123e4567-e89b-12d3-a456-426614174002",
          "content": {
            "key": "new value"
          },
          "status": "published",
          "embedSettings": {
            "width": "100%",
            "height": "600px"
          },
          "design": {
            "theme": "dark",
            "colors": {
              "primary": "#0044cc"
            }
          },
          "projectId": "123e4567-e89b-12d3-a456-426614174004"
        }
      },
      "CompositionVersion": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Unique identifier for the version",
            "example": "123e4567-e89b-12d3-a456-426614174010"
          },
          "composition_id": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the associated composition",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "version": {
            "type": "integer",
            "description": "Version number",
            "example": 1
          },
          "content": {
            "type": "object",
            "description": "Content for this version",
            "example": {
              "key": "value at version 1"
            }
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "When this version was created",
            "example": "2023-01-01T00:00:00Z"
          }
        },
        "example": {
          "id": "123e4567-e89b-12d3-a456-426614174010",
          "composition_id": "123e4567-e89b-12d3-a456-426614174000",
          "version": 1,
          "content": {
            "key": "value at version 1"
          },
          "createdAt": "2023-01-01T00:00:00Z"
        }
      },
      "Conversation": {
        "type": "object",
        "required": [
          "id",
          "component_id",
          "title",
          "completed",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Unique identifier for the conversation",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "component_id": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the component this conversation belongs to",
            "example": "123e4567-e89b-12d3-a456-426614174001"
          },
          "title": {
            "type": "string",
            "description": "Title of the conversation",
            "example": "Feature Discussion"
          },
          "completed": {
            "type": "boolean",
            "description": "Whether the conversation is marked as completed",
            "example": false
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp when the conversation was created",
            "example": "2023-01-01T00:00:00Z"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp when the conversation was last updated",
            "example": "2023-01-02T00:00:00Z"
          }
        },
        "example": {
          "id": "123e4567-e89b-12d3-a456-426614174000",
          "component_id": "123e4567-e89b-12d3-a456-426614174001",
          "title": "Feature Discussion",
          "completed": false,
          "created_at": "2023-01-01T00:00:00Z",
          "updated_at": "2023-01-02T00:00:00Z"
        }
      },
      "CreateConversationRequest": {
        "type": "object",
        "required": [
          "title"
        ],
        "properties": {
          "title": {
            "type": "string",
            "description": "Title of the conversation",
            "example": "Feature Discussion"
          },
          "completed": {
            "type": "boolean",
            "description": "Whether the conversation is marked as completed",
            "default": false,
            "example": false
          }
        },
        "example": {
          "title": "Feature Discussion",
          "completed": false
        }
      },
      "UpdateConversationRequest": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "description": "Updated title of the conversation",
            "example": "Updated Feature Discussion"
          },
          "completed": {
            "type": "boolean",
            "description": "Updated completion status",
            "example": true
          }
        },
        "example": {
          "title": "Updated Feature Discussion",
          "completed": true
        }
      },
      "DeletedConversationResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the deleted conversation.",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          }
        },
        "example": {
          "id": "123e4567-e89b-12d3-a456-426614174000"
        }
      },
      "DemoContent": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Unique identifier for the demo content",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "widget_id": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the widget this demo content belongs to",
            "example": "123e4567-e89b-12d3-a456-426614174001"
          },
          "type": {
            "type": "string",
            "description": "Type of content (e.g., image, video, document)",
            "example": "image"
          },
          "url": {
            "type": "string",
            "format": "uri",
            "description": "URL where the content can be accessed",
            "example": "https://example.com/image.jpg"
          },
          "size": {
            "type": "integer",
            "description": "Size of the content in bytes",
            "example": 1024
          },
          "metadata": {
            "type": "object",
            "description": "Additional metadata for the content",
            "example": {
              "filename": "example.jpg",
              "contentType": "image/jpeg",
              "width": 800,
              "height": 600
            }
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp when the content was created",
            "example": "2023-01-01T00:00:00Z"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp when the content was last updated",
            "example": "2023-01-02T00:00:00Z"
          }
        },
        "example": {
          "id": "123e4567-e89b-12d3-a456-426614174000",
          "widget_id": "123e4567-e89b-12d3-a456-426614174001",
          "type": "image",
          "url": "https://example.com/image.jpg",
          "size": 1024,
          "metadata": {
            "filename": "example.jpg",
            "contentType": "image/jpeg",
            "width": 800,
            "height": 600
          },
          "created_at": "2023-01-01T00:00:00Z",
          "updated_at": "2023-01-02T00:00:00Z"
        }
      },
      "CreateDemoContentRequest": {
        "type": "object",
        "required": [
          "type",
          "url",
          "size"
        ],
        "properties": {
          "type": {
            "type": "string",
            "description": "Type of content (e.g., image, video, document)",
            "example": "image"
          },
          "url": {
            "type": "string",
            "format": "uri",
            "description": "URL where the content can be accessed",
            "example": "https://example.com/image.jpg"
          },
          "size": {
            "type": "integer",
            "description": "Size of the content in bytes",
            "example": 1024
          },
          "metadata": {
            "type": "object",
            "description": "Additional metadata for the content",
            "example": {
              "filename": "example.jpg",
              "contentType": "image/jpeg",
              "width": 800,
              "height": 600
            }
          }
        },
        "example": {
          "type": "image",
          "url": "https://example.com/image.jpg",
          "size": 1024,
          "metadata": {
            "filename": "example.jpg",
            "contentType": "image/jpeg",
            "width": 800,
            "height": 600
          }
        }
      },
      "UpdateDemoContentRequest": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "description": "Updated type of content",
            "example": "document"
          },
          "url": {
            "type": "string",
            "format": "uri",
            "description": "Updated URL where the content can be accessed",
            "example": "https://example.com/updated.pdf"
          },
          "size": {
            "type": "integer",
            "description": "Updated size of the content in bytes",
            "example": 2048
          },
          "metadata": {
            "type": "object",
            "description": "Updated additional metadata for the content",
            "example": {
              "filename": "updated.pdf",
              "contentType": "application/pdf",
              "pages": 5
            }
          }
        },
        "example": {
          "type": "document",
          "url": "https://example.com/updated.pdf",
          "size": 2048,
          "metadata": {
            "filename": "updated.pdf",
            "contentType": "application/pdf",
            "pages": 5
          }
        }
      },
      "EnterpriseCustomization": {
        "type": "object",
        "description": "Enterprise plan customization for a partner",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Unique identifier for the customization"
          },
          "partner_id": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the partner this customization belongs to"
          },
          "custom_price": {
            "type": "number",
            "description": "Custom monthly price override",
            "example": 299.99
          },
          "custom_credits": {
            "type": "number",
            "description": "Custom credit allocation override",
            "example": 5000
          },
          "custom_storage_gb": {
            "type": "number",
            "description": "Custom storage allocation override",
            "example": 1000
          },
          "additional_features": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Additional features beyond base enterprise plan",
            "example": [
              "Advanced analytics",
              "White-label branding"
            ]
          },
          "billing_cycle": {
            "type": "string",
            "enum": [
              "monthly",
              "quarterly",
              "annual"
            ],
            "description": "Billing cycle for the customization",
            "example": "annual"
          },
          "minimum_commitment_months": {
            "type": "number",
            "description": "Minimum commitment period in months",
            "example": 12
          },
          "support_sla": {
            "type": "string",
            "description": "Support SLA percentage",
            "example": "99.9%"
          },
          "contract_start_date": {
            "type": "string",
            "format": "date",
            "description": "Contract start date",
            "example": "2024-01-01"
          },
          "contract_end_date": {
            "type": "string",
            "format": "date",
            "description": "Contract end date",
            "example": "2024-12-31"
          },
          "notes": {
            "type": "string",
            "description": "Admin notes about the customization",
            "example": "Special pricing for strategic partner"
          },
          "is_active_contract": {
            "type": "boolean",
            "description": "Whether the contract is currently active",
            "example": true
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "description": "Creation timestamp"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "description": "Last update timestamp"
          }
        },
        "example": {
          "id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
          "partner_id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
          "custom_price": 299.99,
          "custom_credits": 5000,
          "custom_storage_gb": 1000,
          "additional_features": [
            "Advanced analytics",
            "White-label branding"
          ],
          "billing_cycle": "annual",
          "minimum_commitment_months": 12,
          "support_sla": "99.9%",
          "contract_start_date": "2024-01-01",
          "contract_end_date": "2024-12-31",
          "notes": "Special pricing for strategic partner",
          "is_active_contract": true,
          "created_at": "2026-01-12T15:18:20.986Z",
          "updated_at": "2026-01-12T15:18:20.986Z"
        }
      },
      "Entitlement": {
        "type": "object",
        "description": "Feature entitlement for users, partners, or managed users",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Unique identifier for the entitlement",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "user_id": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the user (if user-level entitlement)",
            "example": "123e4567-e89b-12d3-a456-426614174001"
          },
          "partner_id": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the partner (if partner-level entitlement)",
            "example": "123e4567-e89b-12d3-a456-426614174002"
          },
          "managed_user_id": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the managed user (if managed user-level entitlement)",
            "example": "123e4567-e89b-12d3-a456-426614174003"
          },
          "feature": {
            "type": "string",
            "description": "Feature identifier that this entitlement grants access to",
            "example": "plan.standard"
          },
          "value": {
            "type": "string",
            "description": "Value or limit for this feature",
            "example": "100"
          },
          "expires_at": {
            "type": "string",
            "format": "date-time",
            "description": "When this entitlement expires (null for permanent)",
            "example": "2024-01-01T00:00:00Z"
          },
          "source": {
            "type": "string",
            "description": "Source of the entitlement",
            "enum": [
              "subscription",
              "contract",
              "manual",
              "marketplace",
              "addon"
            ],
            "example": "subscription"
          },
          "source_id": {
            "type": "string",
            "description": "ID of the source object that granted this entitlement",
            "example": "123e4567-e89b-12d3-a456-426614174004"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "description": "When the entitlement was created",
            "example": "2023-01-01T00:00:00Z"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "description": "When the entitlement was last updated",
            "example": "2023-01-02T00:00:00Z"
          }
        },
        "example": {
          "id": "123e4567-e89b-12d3-a456-426614174000",
          "user_id": "123e4567-e89b-12d3-a456-426614174001",
          "partner_id": "123e4567-e89b-12d3-a456-426614174002",
          "managed_user_id": "123e4567-e89b-12d3-a456-426614174003",
          "feature": "plan.standard",
          "value": "100",
          "expires_at": "2024-01-01T00:00:00Z",
          "source": "subscription",
          "source_id": "123e4567-e89b-12d3-a456-426614174004",
          "created_at": "2023-01-01T00:00:00Z",
          "updated_at": "2023-01-02T00:00:00Z"
        }
      },
      "EntitlementCheck": {
        "type": "object",
        "description": "Result of checking a specific entitlement",
        "properties": {
          "user_id": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the user who was checked",
            "example": "123e4567-e89b-12d3-a456-426614174001"
          },
          "feature": {
            "type": "string",
            "description": "Feature that was checked",
            "example": "plan.standard"
          },
          "entitled": {
            "type": "boolean",
            "description": "Whether the user has this entitlement",
            "example": true
          },
          "entitlement": {
            "$ref": "#/components/schemas/Entitlement"
          }
        },
        "example": {
          "user_id": "123e4567-e89b-12d3-a456-426614174001",
          "feature": "plan.standard",
          "entitled": true,
          "entitlement": null
        }
      },
      "Folder": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Unique identifier for the folder",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "user_id": {
            "type": "string",
            "format": "uuid",
            "description": "Identifier of the user who owns the folder",
            "example": "123e4567-e89b-12d3-a456-426614174001"
          },
          "name": {
            "type": "string",
            "description": "Name of the folder",
            "example": "My Documents"
          },
          "type": {
            "type": "string",
            "description": "Type of folder",
            "example": "directory"
          },
          "parent_id": {
            "type": "string",
            "format": "uuid",
            "nullable": true,
            "description": "Identifier of the parent folder, null if it's a root folder",
            "example": "123e4567-e89b-12d3-a456-426614174002"
          },
          "content_id": {
            "type": "string",
            "format": "uuid",
            "nullable": true,
            "description": "Identifier of the associated content, if this folder represents a content item",
            "example": "123e4567-e89b-12d3-a456-426614174003"
          },
          "size": {
            "type": "integer",
            "nullable": true,
            "description": "Size of the folder or its content in bytes",
            "example": 1024
          },
          "modified": {
            "type": "string",
            "format": "date-time",
            "nullable": true,
            "description": "Timestamp when the folder was last modified",
            "example": "2023-05-15T14:30:00Z"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp when the folder was created",
            "example": "2023-05-10T09:15:00Z"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp when the folder was last updated",
            "example": "2023-05-15T14:30:00Z"
          }
        },
        "example": {
          "id": "123e4567-e89b-12d3-a456-426614174000",
          "user_id": "123e4567-e89b-12d3-a456-426614174001",
          "name": "My Documents",
          "type": "directory",
          "parent_id": "123e4567-e89b-12d3-a456-426614174002",
          "content_id": "123e4567-e89b-12d3-a456-426614174003",
          "size": 1024,
          "modified": "2023-05-15T14:30:00Z",
          "created_at": "2023-05-10T09:15:00Z",
          "updated_at": "2023-05-15T14:30:00Z"
        }
      },
      "NewFolder": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Name of the folder",
            "example": "My Documents"
          },
          "type": {
            "type": "string",
            "description": "Type of folder",
            "example": "directory"
          },
          "parent_id": {
            "type": "string",
            "format": "uuid",
            "nullable": true,
            "description": "Identifier of the parent folder, null if it's a root folder",
            "example": "123e4567-e89b-12d3-a456-426614174002"
          },
          "content_id": {
            "type": "string",
            "format": "uuid",
            "nullable": true,
            "description": "Identifier of the associated content, if this folder represents a content item",
            "example": "123e4567-e89b-12d3-a456-426614174003"
          },
          "size": {
            "type": "integer",
            "nullable": true,
            "description": "Size of the folder or its content in bytes",
            "example": 1024
          }
        },
        "example": {
          "name": "My Documents",
          "type": "directory",
          "parent_id": "123e4567-e89b-12d3-a456-426614174002",
          "content_id": "123e4567-e89b-12d3-a456-426614174003",
          "size": 1024
        }
      },
      "UpdateFolder": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Name of the folder",
            "example": "My Documents"
          },
          "parent_id": {
            "type": "string",
            "format": "uuid",
            "nullable": true,
            "description": "Identifier of the parent folder, null if it's a root folder",
            "example": "123e4567-e89b-12d3-a456-426614174002"
          }
        },
        "example": {
          "name": "My Documents",
          "parent_id": "123e4567-e89b-12d3-a456-426614174002"
        }
      },
      "PaginationInfo": {
        "type": "object",
        "properties": {
          "page": {
            "type": "integer",
            "description": "Current page number",
            "example": 1
          },
          "size": {
            "type": "integer",
            "description": "Number of items per page",
            "example": 20
          },
          "total": {
            "type": "integer",
            "description": "Total number of items",
            "example": 100
          }
        },
        "example": {
          "page": 1,
          "size": 20,
          "total": 100
        }
      },
      "HealthRecord": {
        "type": "object",
        "description": "Health status record from the database",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Unique identifier for the health record",
            "example": 1
          },
          "status": {
            "type": "string",
            "description": "Current system status",
            "enum": [
              "healthy",
              "unhealthy",
              "degraded",
              "maintenance"
            ],
            "example": "healthy"
          },
          "last_checked": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp when health was last checked",
            "example": "2023-01-01T00:00:00Z"
          }
        },
        "example": {
          "id": 1,
          "status": "healthy",
          "last_checked": "2023-01-01T00:00:00Z"
        }
      },
      "HealthStatus": {
        "type": "object",
        "description": "System health status response",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "healthy",
              "unhealthy",
              "degraded",
              "maintenance"
            ],
            "description": "Overall system status",
            "example": "healthy"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "description": "Time of this health check",
            "example": "2023-01-01T00:00:00Z"
          },
          "services": {
            "type": "object",
            "description": "Status of individual services",
            "properties": {
              "database": {
                "type": "boolean",
                "description": "Database connectivity status",
                "example": true
              },
              "storage": {
                "type": "boolean",
                "description": "Storage service status",
                "example": true
              },
              "auth": {
                "type": "boolean",
                "description": "Auth service status",
                "example": true
              }
            }
          },
          "id": {
            "type": "integer",
            "description": "ID of the latest health record in database (if available)",
            "example": 1
          },
          "last_checked": {
            "type": "string",
            "format": "date-time",
            "description": "When the database health record was last updated (if available)",
            "example": "2023-01-01T00:00:00Z"
          }
        },
        "example": {
          "status": "healthy",
          "timestamp": "2023-01-01T00:00:00Z",
          "services": {},
          "id": 1,
          "last_checked": "2023-01-01T00:00:00Z"
        }
      },
      "AdminHealthStatus": {
        "type": "object",
        "description": "Detailed health status for admins",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "healthy",
              "unhealthy",
              "degraded",
              "maintenance"
            ],
            "description": "Overall system status",
            "example": "healthy"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "description": "Time of this health check",
            "example": "2023-01-01T00:00:00Z"
          },
          "services": {
            "type": "object",
            "description": "Status of individual services",
            "properties": {
              "database": {
                "type": "boolean",
                "description": "Database connectivity status",
                "example": true
              },
              "storage": {
                "type": "boolean",
                "description": "Storage service status",
                "example": true
              },
              "auth": {
                "type": "boolean",
                "description": "Auth service status",
                "example": true
              }
            }
          },
          "healthRecord": {
            "$ref": "#/components/schemas/HealthRecord",
            "description": "Latest health record from the database"
          },
          "metrics": {
            "type": "object",
            "description": "Detailed system metrics",
            "properties": {
              "uptime": {
                "type": "number",
                "description": "System uptime in seconds",
                "example": 3600
              },
              "memory": {
                "type": "object",
                "description": "Memory usage metrics",
                "properties": {
                  "used": {
                    "type": "number",
                    "description": "Used memory in MB",
                    "example": 512
                  },
                  "total": {
                    "type": "number",
                    "description": "Total available memory in MB",
                    "example": 1024
                  }
                }
              },
              "activeConnections": {
                "type": "number",
                "description": "Number of active connections",
                "example": 42
              }
            }
          }
        },
        "example": {
          "status": "healthy",
          "timestamp": "2023-01-01T00:00:00Z",
          "services": {},
          "healthRecord": null,
          "metrics": {}
        }
      },
      "Integration": {
        "type": "object",
        "required": [
          "id",
          "user_id",
          "type",
          "config",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Unique identifier for the integration",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "user_id": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the user who owns this integration",
            "example": "123e4567-e89b-12d3-a456-426614174001"
          },
          "type": {
            "type": "string",
            "description": "Type of integration",
            "example": "zapier"
          },
          "config": {
            "type": "object",
            "description": "Integration-specific configuration",
            "example": {
              "webhook_url": "https://hooks.zapier.com/hooks/catch/123456/abcdef/",
              "events": [
                "user.created",
                "content.updated"
              ]
            }
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp when the integration was created",
            "example": "2023-01-01T00:00:00Z"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp when the integration was last updated",
            "example": "2023-01-02T00:00:00Z"
          }
        },
        "example": {
          "id": "123e4567-e89b-12d3-a456-426614174000",
          "user_id": "123e4567-e89b-12d3-a456-426614174001",
          "type": "zapier",
          "config": {
            "webhook_url": "https://hooks.zapier.com/hooks/catch/123456/abcdef/",
            "events": [
              "user.created",
              "content.updated"
            ]
          },
          "created_at": "2023-01-01T00:00:00Z",
          "updated_at": "2023-01-02T00:00:00Z"
        }
      },
      "NewIntegration": {
        "type": "object",
        "required": [
          "type"
        ],
        "properties": {
          "type": {
            "type": "string",
            "description": "Type of integration (e.g., zapier, webhook)",
            "example": "zapier"
          },
          "config": {
            "type": "object",
            "description": "Integration-specific configuration. For Zapier, includes webhook_url and events. For webhooks, includes url, secret, and events.",
            "example": {
              "webhook_url": "https://hooks.zapier.com/hooks/catch/123456/abcdef/",
              "events": [
                "user.created",
                "content.updated"
              ]
            }
          }
        },
        "example": {
          "type": "zapier",
          "config": {
            "webhook_url": "https://hooks.zapier.com/hooks/catch/123456/abcdef/",
            "events": [
              "user.created",
              "content.updated"
            ]
          }
        }
      },
      "ManagedUser": {
        "type": "object",
        "required": [
          "id",
          "manager_id",
          "external_id",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Unique identifier for the managed user",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "manager_id": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the user who manages this managed user",
            "example": "123e4567-e89b-12d3-a456-426614174001"
          },
          "external_id": {
            "type": "string",
            "description": "External identifier for the managed user",
            "example": "external-user-123"
          },
          "metadata": {
            "type": "object",
            "description": "Additional metadata for the managed user",
            "example": {
              "firstName": "John",
              "lastName": "Doe",
              "role": "editor"
            }
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp when the managed user was created",
            "example": "2023-01-01T00:00:00Z"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp when the managed user was last updated",
            "example": "2023-01-02T00:00:00Z"
          }
        },
        "example": {
          "id": "123e4567-e89b-12d3-a456-426614174000",
          "manager_id": "123e4567-e89b-12d3-a456-426614174001",
          "external_id": "external-user-123",
          "metadata": {
            "firstName": "John",
            "lastName": "Doe",
            "role": "editor"
          },
          "created_at": "2023-01-01T00:00:00Z",
          "updated_at": "2023-01-02T00:00:00Z"
        }
      },
      "NewManagedUser": {
        "type": "object",
        "required": [
          "external_id",
          "manager_id"
        ],
        "properties": {
          "external_id": {
            "type": "string",
            "description": "External identifier for the managed user",
            "example": "external-user-123"
          },
          "manager_id": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the user who will manage this managed user",
            "example": "123e4567-e89b-12d3-a456-426614174001"
          },
          "metadata": {
            "type": "object",
            "description": "Additional metadata for the managed user",
            "example": {
              "firstName": "John",
              "lastName": "Doe",
              "role": "editor"
            }
          }
        },
        "example": {
          "external_id": "external-user-123",
          "manager_id": "123e4567-e89b-12d3-a456-426614174001",
          "metadata": {
            "firstName": "John",
            "lastName": "Doe",
            "role": "editor"
          }
        }
      },
      "UpdateManagedUser": {
        "type": "object",
        "properties": {
          "external_id": {
            "type": "string",
            "description": "Updated external identifier for the managed user",
            "example": "updated-external-user-123"
          },
          "metadata": {
            "type": "object",
            "description": "Updated additional metadata for the managed user",
            "example": {
              "firstName": "John",
              "lastName": "Smith",
              "role": "admin"
            }
          }
        },
        "example": {
          "external_id": "updated-external-user-123",
          "metadata": {
            "firstName": "John",
            "lastName": "Smith",
            "role": "admin"
          }
        }
      },
      "ContentItemInput": {
        "type": "object",
        "required": [
          "url",
          "file_type"
        ],
        "properties": {
          "url": {
            "type": "string",
            "format": "url",
            "description": "URL of the pre-uploaded content item.",
            "example": "https://example.com/path/to/image.jpg"
          },
          "file_type": {
            "type": "string",
            "description": "MIME type of the content.",
            "example": "image/jpeg"
          },
          "file_name": {
            "type": "string",
            "description": "Original name of the file.",
            "example": "photo.jpg",
            "nullable": true
          },
          "file_size": {
            "type": "integer",
            "description": "Size of the file in bytes.",
            "example": 102400,
            "nullable": true
          },
          "metadata": {
            "type": "object",
            "description": "Additional metadata for the content item (e.g., image dimensions, duration).",
            "example": {
              "width": 1920,
              "height": 1080
            },
            "nullable": true
          },
          "display_order": {
            "type": "integer",
            "description": "The display order of this attachment within the message. Lower numbers appear first.",
            "example": 1,
            "nullable": true
          }
        },
        "example": {
          "url": "https://example.com/path/to/image.jpg",
          "file_type": "image/jpeg",
          "file_name": "photo.jpg",
          "file_size": 102400,
          "metadata": {
            "width": 1920,
            "height": 1080
          },
          "display_order": 1
        }
      },
      "ContentItemOutput": {
        "type": "object",
        "required": [
          "id",
          "url",
          "file_type",
          "created_at"
        ],
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Unique identifier for the content item."
          },
          "url": {
            "type": "string",
            "format": "url",
            "description": "URL to the content item."
          },
          "file_type": {
            "type": "string",
            "description": "MIME type of the content."
          },
          "file_name": {
            "type": "string",
            "nullable": true,
            "description": "Original name of the file."
          },
          "file_size": {
            "type": "integer",
            "nullable": true,
            "description": "Size of the file in bytes."
          },
          "metadata": {
            "type": "object",
            "nullable": true,
            "description": "Additional metadata."
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp of content creation."
          },
          "display_order": {
            "type": "integer",
            "description": "The display order of this attachment within the message.",
            "example": 1
          }
        },
        "example": {
          "id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
          "url": "Example url",
          "file_type": "Example file_type",
          "file_name": "Example file_name",
          "file_size": 42,
          "metadata": {},
          "created_at": "2026-01-12T15:18:20.986Z",
          "display_order": 1
        }
      },
      "Message": {
        "type": "object",
        "required": [
          "id",
          "conversation_id",
          "message_type",
          "user_id",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Unique identifier for the message",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "conversation_id": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the conversation this message belongs to",
            "example": "123e4567-e89b-12d3-a456-426614174001"
          },
          "message_content": {
            "type": "string",
            "description": "Primary text content of the message",
            "example": "Let's discuss the new feature implementation",
            "nullable": true
          },
          "message_type": {
            "type": "string",
            "enum": [
              "user",
              "assistant"
            ],
            "description": "Type of message (user or assistant)",
            "example": "user"
          },
          "attachments": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ContentItemOutput"
            },
            "description": "Optional array of file attachments associated with the message.",
            "nullable": true
          },
          "is_commit": {
            "type": "boolean",
            "description": "Whether this message represents a commit",
            "example": false
          },
          "user_id": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the user who sent the message",
            "example": "123e4567-e89b-12d3-a456-426614174002"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp when the message was created",
            "example": "2023-01-01T00:00:00Z"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp when the message was last updated",
            "example": "2023-01-02T00:00:00Z"
          }
        },
        "example": {
          "id": "123e4567-e89b-12d3-a456-426614174000",
          "conversation_id": "123e4567-e89b-12d3-a456-426614174001",
          "message_content": "Let's discuss the new feature implementation",
          "message_type": "user",
          "attachments": [
            "Example ContentItemOutput"
          ],
          "is_commit": false,
          "user_id": "123e4567-e89b-12d3-a456-426614174002",
          "created_at": "2023-01-01T00:00:00Z",
          "updated_at": "2023-01-02T00:00:00Z"
        }
      },
      "CreateMessageRequest": {
        "type": "object",
        "required": [
          "message_type",
          "user_id"
        ],
        "properties": {
          "message_content": {
            "type": "string",
            "description": "Primary text content of the message. Required if attachments are not provided.",
            "example": "Let's discuss the new feature implementation",
            "nullable": true
          },
          "message_type": {
            "type": "string",
            "enum": [
              "user",
              "assistant"
            ],
            "description": "Type of message (user or assistant)",
            "example": "user"
          },
          "attachments": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ContentItemInput"
            },
            "description": "Optional array of file attachments. Required if message_content is not provided.",
            "nullable": true
          },
          "is_commit": {
            "type": "boolean",
            "description": "Whether this message represents a commit",
            "default": false,
            "example": false
          },
          "user_id": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the user sending the message",
            "example": "123e4567-e89b-12d3-a456-426614174002"
          }
        },
        "example": {
          "message_content": "Let's discuss the new feature implementation",
          "message_type": "user",
          "attachments": [
            "Example ContentItemInput"
          ],
          "is_commit": false,
          "user_id": "123e4567-e89b-12d3-a456-426614174002"
        }
      },
      "UpdateMessageRequest": {
        "type": "object",
        "description": "At least one property must be provided for an update.",
        "properties": {
          "message_content": {
            "type": "string",
            "description": "Updated primary text content of the message.",
            "example": "Updated discussion about the new feature",
            "nullable": true
          },
          "message_type": {
            "type": "string",
            "enum": [
              "user",
              "assistant"
            ],
            "description": "Updated type of message.",
            "example": "assistant"
          },
          "attachments": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ContentItemInput"
            },
            "description": "Updated array of file attachments. If provided, replaces all existing attachments.",
            "nullable": true
          },
          "is_commit": {
            "type": "boolean",
            "description": "Updated commit status.",
            "example": true
          }
        },
        "example": {
          "message_content": "Updated discussion about the new feature",
          "message_type": "assistant",
          "attachments": [
            "Example ContentItemInput"
          ],
          "is_commit": true
        }
      },
      "Organization": {
        "type": "object",
        "description": "Organization entity with complete details",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Unique organization identifier"
          },
          "name": {
            "type": "string",
            "description": "Organization display name"
          },
          "slug": {
            "type": "string",
            "description": "Organization URL identifier"
          },
          "description": {
            "type": "string",
            "description": "Organization description"
          },
          "avatar_url": {
            "type": "string",
            "format": "uri",
            "description": "Organization avatar URL"
          },
          "ownerId": {
            "type": "string",
            "format": "uuid",
            "description": "Organization owner user ID"
          },
          "storage_quota_gb": {
            "type": "integer",
            "description": "Storage quota in GB"
          },
          "storage_used_bytes": {
            "type": "integer",
            "format": "int64",
            "description": "Storage used in bytes"
          },
          "billing_plan": {
            "type": "string",
            "description": "Current billing plan"
          },
          "billingStatus": {
            "type": "string",
            "description": "Billing status"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "Creation timestamp"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "Last update timestamp"
          },
          "settings": {
            "type": "object",
            "properties": {
              "allow_public_widgets": {
                "type": "boolean",
                "description": "Allow members to create public widgets"
              },
              "require_approval_for_new_members": {
                "type": "boolean",
                "description": "Require admin approval for new member invitations"
              }
            }
          }
        },
        "required": [
          "id",
          "name",
          "slug",
          "ownerId"
        ],
        "example": {
          "id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
          "name": "Example name",
          "slug": "Example slug",
          "description": "Example description",
          "avatar_url": "Example avatar_url",
          "ownerId": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
          "storage_quota_gb": 42,
          "storage_used_bytes": 42,
          "billing_plan": "Example billing_plan",
          "billingStatus": "Example billingStatus",
          "createdAt": "2026-01-12T15:18:20.986Z",
          "updatedAt": "2026-01-12T15:18:20.986Z",
          "settings": {}
        }
      },
      "OrganizationWithUserRole": {
        "allOf": [
          {
            "$ref": "#/components/schemas/Organization"
          },
          {
            "type": "object",
            "properties": {
              "userRole": {
                "type": "string",
                "enum": [
                  "owner",
                  "admin",
                  "member"
                ],
                "description": "Current user's role in this organization"
              }
            },
            "required": [
              "userRole"
            ]
          }
        ]
      },
      "OrganizationMember": {
        "type": "object",
        "description": "Organization member with role and access information",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Unique member identifier"
          },
          "organizationId": {
            "type": "string",
            "format": "uuid",
            "description": "Organization ID"
          },
          "userId": {
            "type": "string",
            "format": "uuid",
            "description": "User ID"
          },
          "role": {
            "type": "string",
            "enum": [
              "owner",
              "admin",
              "member"
            ],
            "description": "Member role in organization"
          },
          "accessType": {
            "type": "string",
            "description": "Access type"
          },
          "allowed_projects": {
            "type": "string",
            "description": "Allowed projects (JSON text)"
          },
          "invited_by": {
            "type": "string",
            "format": "uuid",
            "description": "User ID who sent the invitation"
          },
          "invitedAt": {
            "type": "string",
            "format": "date-time",
            "description": "Invitation timestamp"
          },
          "joinedAt": {
            "type": "string",
            "format": "date-time",
            "description": "Join timestamp"
          },
          "status": {
            "type": "string",
            "enum": [
              "pending",
              "active",
              "suspended"
            ],
            "description": "Member status"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "Creation timestamp"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "Last update timestamp"
          },
          "user": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string",
                "format": "uuid"
              },
              "name": {
                "type": "string"
              },
              "email": {
                "type": "string",
                "format": "email"
              },
              "avatar_url": {
                "type": "string",
                "format": "uri"
              }
            }
          }
        },
        "required": [
          "id",
          "organizationId",
          "userId",
          "role"
        ],
        "example": {
          "id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
          "organizationId": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
          "userId": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
          "role": "Example role",
          "accessType": "Example accessType",
          "allowed_projects": "Example allowed_projects",
          "invited_by": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
          "invitedAt": "2026-01-12T15:18:20.986Z",
          "joinedAt": "2026-01-12T15:18:20.986Z",
          "status": "Example status",
          "createdAt": "2026-01-12T15:18:20.986Z",
          "updatedAt": "2026-01-12T15:18:20.986Z",
          "user": {}
        }
      },
      "Invitation": {
        "type": "object",
        "description": "Organization invitation entity",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Unique invitation identifier"
          },
          "organizationId": {
            "type": "string",
            "format": "uuid",
            "description": "Organization ID"
          },
          "email": {
            "type": "string",
            "format": "email",
            "description": "Invitee email address"
          },
          "role": {
            "type": "string",
            "enum": [
              "admin",
              "member"
            ],
            "description": "Intended role for the invitee"
          },
          "status": {
            "type": "string",
            "enum": [
              "pending",
              "accepted",
              "expired"
            ],
            "description": "Invitation status"
          },
          "invited_by": {
            "type": "string",
            "format": "uuid",
            "description": "User ID who sent the invitation"
          },
          "invitedAt": {
            "type": "string",
            "format": "date-time",
            "description": "Invitation timestamp"
          },
          "expiresAt": {
            "type": "string",
            "format": "date-time",
            "description": "Expiration timestamp"
          },
          "acceptedAt": {
            "type": "string",
            "format": "date-time",
            "description": "Acceptance timestamp"
          },
          "message": {
            "type": "string",
            "description": "Optional personal message"
          },
          "token": {
            "type": "string",
            "description": "Invitation token"
          }
        },
        "required": [
          "id",
          "organizationId",
          "email",
          "role",
          "status"
        ],
        "example": {
          "id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
          "organizationId": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
          "email": "Example email",
          "role": "Example role",
          "status": "Example status",
          "invited_by": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
          "invitedAt": "2026-01-12T15:18:20.986Z",
          "expiresAt": "2026-01-12T15:18:20.986Z",
          "acceptedAt": "2026-01-12T15:18:20.986Z",
          "message": "Example message",
          "token": "Example token"
        }
      },
      "TransferOrganizationOwnershipRequest": {
        "type": "object",
        "required": [
          "newOwnerId"
        ],
        "properties": {
          "new_ownerId": {
            "type": "string",
            "format": "uuid",
            "description": "User ID of the new owner (must be an existing active member)"
          },
          "password": {
            "type": "string",
            "description": "Current owner's password for confirmation (required for email users, optional for OAuth users)"
          },
          "confirmation": {
            "type": "boolean",
            "description": "Confirmation that the user understands the implications"
          }
        },
        "example": {
          "new_ownerId": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
          "password": "Example password",
          "confirmation": true
        }
      },
      "StoragePack": {
        "type": "object",
        "description": "Organization storage pack purchase",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Unique storage pack identifier"
          },
          "organizationId": {
            "type": "string",
            "format": "uuid",
            "description": "Organization ID"
          },
          "pack_size_gb": {
            "type": "number",
            "description": "Pack size in GB"
          },
          "price_paid": {
            "type": "number",
            "description": "Price paid for the pack"
          },
          "purchased_by": {
            "type": "string",
            "format": "uuid",
            "description": "User who purchased the pack"
          },
          "purchasedAt": {
            "type": "string",
            "format": "date-time",
            "description": "Purchase timestamp"
          },
          "expiresAt": {
            "type": "string",
            "format": "date-time",
            "description": "Expiration timestamp"
          },
          "status": {
            "type": "string",
            "enum": [
              "active",
              "expired",
              "cancelled"
            ],
            "description": "Pack status"
          }
        },
        "required": [
          "id",
          "organizationId",
          "pack_size_gb",
          "price_paid",
          "purchased_by",
          "purchasedAt",
          "status"
        ],
        "example": {
          "id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
          "organizationId": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
          "pack_size_gb": 42,
          "price_paid": 42,
          "purchased_by": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
          "purchasedAt": "2026-01-12T15:18:20.986Z",
          "expiresAt": "2026-01-12T15:18:20.986Z",
          "status": "Example status"
        }
      },
      "ApiKey": {
        "type": "object",
        "description": "API key entity for organization workspace",
        "properties": {
          "keyId": {
            "type": "string",
            "description": "Unique API key identifier"
          },
          "name": {
            "type": "string",
            "description": "Human-readable name for the API key"
          },
          "key_prefix": {
            "type": "string",
            "description": "Prefix of the API key (for identification)"
          },
          "is_active": {
            "type": "boolean",
            "description": "Whether the API key is active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "Creation timestamp"
          },
          "expiresAt": {
            "type": "string",
            "format": "date-time",
            "description": "Expiration timestamp (if any)"
          },
          "lastUsedAt": {
            "type": "string",
            "format": "date-time",
            "description": "Last usage timestamp"
          }
        },
        "required": [
          "keyId",
          "name",
          "key_prefix",
          "is_active",
          "createdAt"
        ],
        "example": {
          "keyId": "Example keyId",
          "name": "Example name",
          "key_prefix": "Example key_prefix",
          "is_active": true,
          "createdAt": "2026-01-12T15:18:20.986Z",
          "expiresAt": "2026-01-12T15:18:20.986Z",
          "lastUsedAt": "2026-01-12T15:18:20.986Z"
        }
      },
      "MemberStatusReport": {
        "type": "object",
        "description": "Current member status report showing active vs suspended member statistics",
        "properties": {
          "organizationId": {
            "type": "string",
            "format": "uuid",
            "description": "Organization ID"
          },
          "organizationName": {
            "type": "string",
            "description": "Organization name"
          },
          "totalMembers": {
            "type": "integer",
            "description": "Total number of members"
          },
          "activeMembers": {
            "type": "integer",
            "description": "Number of active members"
          },
          "suspendedMembers": {
            "type": "integer",
            "description": "Number of suspended members"
          },
          "invitedMembers": {
            "type": "integer",
            "description": "Number of invited members"
          },
          "activeMemberPercentage": {
            "type": "number",
            "format": "float",
            "description": "Percentage of active members"
          },
          "suspendedMemberPercentage": {
            "type": "number",
            "format": "float",
            "description": "Percentage of suspended members"
          },
          "lastUpdated": {
            "type": "string",
            "format": "date-time",
            "description": "When the report was last updated"
          }
        },
        "required": [
          "organizationId",
          "organizationName",
          "totalMembers",
          "activeMembers",
          "suspendedMembers",
          "invitedMembers",
          "activeMemberPercentage",
          "suspendedMemberPercentage",
          "lastUpdated"
        ],
        "example": {
          "organizationId": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
          "organizationName": "Example organizationName",
          "totalMembers": 42,
          "activeMembers": 42,
          "suspendedMembers": 42,
          "invitedMembers": 42,
          "activeMemberPercentage": 42,
          "suspendedMemberPercentage": 42,
          "lastUpdated": "2026-01-12T15:18:20.986Z"
        }
      },
      "MemberTrendReport": {
        "type": "object",
        "description": "Historical member trends report showing member status changes over time",
        "properties": {
          "organizationId": {
            "type": "string",
            "format": "uuid",
            "description": "Organization ID"
          },
          "organizationName": {
            "type": "string",
            "description": "Organization name"
          },
          "dateRange": {
            "type": "object",
            "description": "Date range for the report",
            "properties": {
              "startDate": {
                "type": "string",
                "format": "date-time",
                "description": "Start date of the report"
              },
              "endDate": {
                "type": "string",
                "format": "date-time",
                "description": "End date of the report"
              }
            },
            "required": [
              "startDate",
              "endDate"
            ]
          },
          "trends": {
            "type": "array",
            "description": "Daily trend data points",
            "items": {
              "type": "object",
              "properties": {
                "date": {
                  "type": "string",
                  "format": "date-time",
                  "description": "Date for this data point"
                },
                "activeMembers": {
                  "type": "integer",
                  "description": "Number of active members on this date"
                },
                "suspendedMembers": {
                  "type": "integer",
                  "description": "Number of suspended members on this date"
                },
                "totalMembers": {
                  "type": "integer",
                  "description": "Total number of members on this date"
                },
                "activationsCount": {
                  "type": "integer",
                  "description": "Number of member activations on this date"
                },
                "suspensionsCount": {
                  "type": "integer",
                  "description": "Number of member suspensions on this date"
                },
                "netMemberChange": {
                  "type": "integer",
                  "description": "Net change in members on this date"
                }
              },
              "required": [
                "date",
                "activeMembers",
                "suspendedMembers",
                "totalMembers",
                "activationsCount",
                "suspensionsCount",
                "netMemberChange"
              ]
            }
          },
          "summary": {
            "type": "object",
            "description": "Summary statistics for the period",
            "properties": {
              "totalActivations": {
                "type": "integer",
                "description": "Total member activations in the period"
              },
              "totalSuspensions": {
                "type": "integer",
                "description": "Total member suspensions in the period"
              },
              "netMemberChange": {
                "type": "integer",
                "description": "Net change in members for the period"
              },
              "averageActiveMembers": {
                "type": "number",
                "format": "float",
                "description": "Average number of active members"
              },
              "peakActiveMembers": {
                "type": "integer",
                "description": "Peak number of active members"
              },
              "lowestActiveMembers": {
                "type": "integer",
                "description": "Lowest number of active members"
              }
            },
            "required": [
              "totalActivations",
              "totalSuspensions",
              "netMemberChange",
              "averageActiveMembers",
              "peakActiveMembers",
              "lowestActiveMembers"
            ]
          }
        },
        "required": [
          "organizationId",
          "organizationName",
          "dateRange",
          "trends",
          "summary"
        ],
        "example": {
          "organizationId": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
          "organizationName": "Example organizationName",
          "dateRange": {},
          "trends": [],
          "summary": {}
        }
      },
      "BillingImpactReport": {
        "type": "object",
        "description": "Billing impact report showing financial effects of member status changes",
        "properties": {
          "organizationId": {
            "type": "string",
            "format": "uuid",
            "description": "Organization ID"
          },
          "organizationName": {
            "type": "string",
            "description": "Organization name"
          },
          "dateRange": {
            "type": "object",
            "description": "Date range for the report",
            "properties": {
              "startDate": {
                "type": "string",
                "format": "date-time",
                "description": "Start date of the report"
              },
              "endDate": {
                "type": "string",
                "format": "date-time",
                "description": "End date of the report"
              }
            },
            "required": [
              "startDate",
              "endDate"
            ]
          },
          "billingMetrics": {
            "type": "object",
            "description": "Financial impact metrics",
            "properties": {
              "totalCreditsFromSuspensions": {
                "type": "number",
                "format": "float",
                "description": "Total credits received from member suspensions"
              },
              "totalChargesFromReactivations": {
                "type": "number",
                "format": "float",
                "description": "Total charges from member reactivations"
              },
              "netBillingImpact": {
                "type": "number",
                "format": "float",
                "description": "Net billing impact (positive = organization owes, negative = credit)"
              },
              "averageMonthlyMemberCost": {
                "type": "number",
                "format": "float",
                "description": "Average monthly cost per member"
              },
              "suspensionSavings": {
                "type": "number",
                "format": "float",
                "description": "Total savings from suspensions"
              },
              "churnRate": {
                "type": "number",
                "format": "float",
                "description": "Churn rate percentage"
              }
            },
            "required": [
              "totalCreditsFromSuspensions",
              "totalChargesFromReactivations",
              "netBillingImpact",
              "averageMonthlyMemberCost",
              "suspensionSavings",
              "churnRate"
            ]
          },
          "membershipCosts": {
            "type": "array",
            "description": "Daily membership cost breakdown",
            "items": {
              "type": "object",
              "properties": {
                "date": {
                  "type": "string",
                  "format": "date-time",
                  "description": "Date for this cost data"
                },
                "activeMembers": {
                  "type": "integer",
                  "description": "Number of active members on this date"
                },
                "monthlyCost": {
                  "type": "number",
                  "format": "float",
                  "description": "Monthly cost for active members"
                },
                "suspensionCredits": {
                  "type": "number",
                  "format": "float",
                  "description": "Credits from suspensions on this date"
                },
                "reactivationCharges": {
                  "type": "number",
                  "format": "float",
                  "description": "Charges from reactivations on this date"
                },
                "netCost": {
                  "type": "number",
                  "format": "float",
                  "description": "Net cost for this date"
                }
              },
              "required": [
                "date",
                "activeMembers",
                "monthlyCost",
                "suspensionCredits",
                "reactivationCharges",
                "netCost"
              ]
            }
          }
        },
        "required": [
          "organizationId",
          "organizationName",
          "dateRange",
          "billingMetrics",
          "membershipCosts"
        ],
        "example": {
          "organizationId": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
          "organizationName": "Example organizationName",
          "dateRange": {},
          "billingMetrics": {},
          "membershipCosts": []
        }
      },
      "OrganizationDomain": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Unique identifier for the organization domain",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "domain": {
            "type": "string",
            "description": "Domain pattern (supports wildcards)",
            "example": "example.com"
          },
          "organizationId": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the organization that owns this domain",
            "example": "456e7890-e89b-12d3-a456-426614174001"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "When the domain was added",
            "example": "2024-01-15T09:00:00Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "When the domain was last updated",
            "example": "2024-01-15T09:00:00Z"
          }
        },
        "example": {
          "id": "123e4567-e89b-12d3-a456-426614174000",
          "domain": "example.com",
          "organizationId": "456e7890-e89b-12d3-a456-426614174001",
          "createdAt": "2024-01-15T09:00:00Z",
          "updatedAt": "2024-01-15T09:00:00Z"
        }
      },
      "AddDomainRequest": {
        "type": "object",
        "required": [
          "domain"
        ],
        "properties": {
          "domain": {
            "type": "string",
            "description": "Domain pattern to allow (supports wildcards like *.example.com)",
            "example": "example.com"
          }
        },
        "example": {
          "domain": "example.com"
        }
      },
      "Project": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Unique identifier for the project",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "creatorId": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the user who created the project",
            "example": "123e4567-e89b-12d3-a456-426614174001"
          },
          "name": {
            "type": "string",
            "description": "Name of the project",
            "example": "My Project"
          },
          "description": {
            "type": "string",
            "description": "Description of the project",
            "example": "A sample project for testing"
          },
          "organizationId": {
            "type": "string",
            "format": "uuid",
            "nullable": true,
            "description": "ID of the organization this project belongs to (null for personal projects)",
            "example": "123e4567-e89b-12d3-a456-426614174002"
          },
          "workspaceType": {
            "type": "string",
            "enum": [
              "personal",
              "organization"
            ],
            "description": "Type of workspace this project belongs to",
            "example": "personal"
          },
          "is_locked": {
            "type": "boolean",
            "description": "Indicates if this project is locked",
            "example": false
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp when the project was created",
            "example": "2023-01-01T00:00:00Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp when the project was last updated",
            "example": "2023-01-02T00:00:00Z"
          },
          "userRole": {
            "type": "string",
            "enum": [
              "owner",
              "admin",
              "member"
            ],
            "description": "User's role in this project (populated when fetching user's projects)",
            "example": "owner"
          },
          "accessLevel": {
            "type": "string",
            "enum": [
              "read_only",
              "read_write"
            ],
            "description": "User's access level in this project",
            "example": "read_write"
          },
          "widgetCount": {
            "type": "integer",
            "description": "Number of widgets in this project",
            "example": 5
          },
          "compositionCount": {
            "type": "integer",
            "description": "Number of compositions in this project",
            "example": 3
          },
          "themeConfig": {
            "type": "object",
            "nullable": true,
            "description": "Theme configuration for this project",
            "properties": {
              "id": {
                "type": "string",
                "description": "Theme identifier",
                "example": "default"
              },
              "name": {
                "type": "string",
                "description": "Theme name",
                "example": "Default"
              },
              "selectedColor": {
                "type": "string",
                "description": "Color for selected items",
                "example": "#f0f7e6"
              },
              "deselectedColor": {
                "type": "string",
                "description": "Color for deselected items",
                "example": "#90c26c"
              },
              "backgroundColor": {
                "type": "string",
                "description": "Background color",
                "example": "#0f1b0f"
              }
            }
          }
        },
        "required": [
          "id",
          "creatorId",
          "name",
          "workspaceType",
          "is_locked",
          "createdAt",
          "updatedAt"
        ],
        "example": {
          "id": "123e4567-e89b-12d3-a456-426614174000",
          "creatorId": "123e4567-e89b-12d3-a456-426614174001",
          "name": "My Project",
          "description": "A sample project for testing",
          "organizationId": null,
          "workspaceType": "personal",
          "is_locked": false,
          "createdAt": "2023-01-01T00:00:00Z",
          "updatedAt": "2023-01-02T00:00:00Z",
          "userRole": "owner",
          "accessLevel": "read_write",
          "widgetCount": 5,
          "compositionCount": 3,
          "themeConfig": {
            "id": "default",
            "name": "Default",
            "selectedColor": "#f0f7e6",
            "deselectedColor": "#90c26c",
            "backgroundColor": "#0f1b0f"
          }
        }
      },
      "ProjectMember": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Unique identifier for the project member record",
            "example": "123e4567-e89b-12d3-a456-426614174010"
          },
          "projectId": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the project",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "userId": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the user who is a member",
            "example": "123e4567-e89b-12d3-a456-426614174001"
          },
          "role": {
            "type": "string",
            "enum": [
              "admin",
              "member"
            ],
            "description": "Role of the user in this project",
            "example": "member"
          },
          "accessLevel": {
            "type": "string",
            "enum": [
              "read_only",
              "read_write"
            ],
            "description": "Access level granted to the user",
            "example": "read_write"
          },
          "addedBy": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the user who added this member",
            "example": "123e4567-e89b-12d3-a456-426614174002"
          },
          "addedAt": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp when the member was added",
            "example": "2023-01-01T00:00:00Z"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp when the record was created",
            "example": "2023-01-01T00:00:00Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp when the record was last updated",
            "example": "2023-01-02T00:00:00Z"
          }
        },
        "required": [
          "id",
          "projectId",
          "userId",
          "role",
          "accessLevel",
          "addedBy",
          "addedAt",
          "createdAt",
          "updatedAt"
        ],
        "example": {
          "id": "123e4567-e89b-12d3-a456-426614174010",
          "projectId": "123e4567-e89b-12d3-a456-426614174000",
          "userId": "123e4567-e89b-12d3-a456-426614174001",
          "role": "member",
          "accessLevel": "read_write",
          "addedBy": "123e4567-e89b-12d3-a456-426614174002",
          "addedAt": "2023-01-01T00:00:00Z",
          "createdAt": "2023-01-01T00:00:00Z",
          "updatedAt": "2023-01-02T00:00:00Z"
        }
      },
      "NewProject": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Name of the project (required)",
            "example": "My New Project"
          },
          "description": {
            "type": "string",
            "description": "Description of the project",
            "example": "A new project for testing"
          },
          "organizationId": {
            "type": "string",
            "format": "uuid",
            "nullable": true,
            "description": "ID of the organization this project belongs to (required for org projects)",
            "example": "123e4567-e89b-12d3-a456-426614174002"
          },
          "workspaceType": {
            "type": "string",
            "enum": [
              "personal",
              "organization"
            ],
            "description": "Type of workspace this project belongs to",
            "example": "personal"
          },
          "is_locked": {
            "type": "boolean",
            "description": "Indicates if this project is locked",
            "default": false,
            "example": false
          }
        },
        "required": [
          "name",
          "workspaceType"
        ],
        "example": {
          "name": "My New Project",
          "description": "A new project for testing",
          "organizationId": null,
          "workspaceType": "personal",
          "is_locked": false
        }
      },
      "UpdateProject": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Updated name of the project",
            "example": "Updated Project Name"
          },
          "description": {
            "type": "string",
            "description": "Updated description of the project",
            "example": "Updated description"
          },
          "is_locked": {
            "type": "boolean",
            "description": "Updated flag indicating if this project is locked",
            "example": true
          }
        },
        "example": {
          "name": "Updated Project Name",
          "description": "Updated description",
          "is_locked": true
        }
      },
      "ProjectContents": {
        "type": "object",
        "properties": {
          "widgets": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string",
                  "format": "uuid"
                },
                "name": {
                  "type": "string"
                },
                "type": {
                  "type": "string"
                },
                "is_public": {
                  "type": "boolean"
                },
                "is_draft": {
                  "type": "boolean"
                },
                "createdAt": {
                  "type": "string",
                  "format": "date-time"
                },
                "updatedAt": {
                  "type": "string",
                  "format": "date-time"
                },
                "creatorId": {
                  "type": "string",
                  "format": "uuid"
                }
              }
            },
            "description": "List of widgets in this project"
          },
          "compositions": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string",
                  "format": "uuid"
                },
                "name": {
                  "type": "string"
                },
                "status": {
                  "type": "string"
                },
                "widgetId": {
                  "type": "string",
                  "format": "uuid"
                },
                "createdAt": {
                  "type": "string",
                  "format": "date-time"
                },
                "updatedAt": {
                  "type": "string",
                  "format": "date-time"
                },
                "creatorId": {
                  "type": "string",
                  "format": "uuid"
                }
              }
            },
            "description": "List of compositions in this project"
          }
        },
        "required": [
          "widgets",
          "compositions"
        ],
        "example": {
          "widgets": [],
          "compositions": []
        }
      },
      "AddProjectMember": {
        "type": "object",
        "properties": {
          "userId": {
            "type": "string",
            "format": "uuid",
            "description": "User ID to add to project",
            "example": "123e4567-e89b-12d3-a456-426614174001"
          },
          "role": {
            "type": "string",
            "enum": [
              "admin",
              "member"
            ],
            "default": "member",
            "description": "Role to assign to the user",
            "example": "member"
          },
          "accessLevel": {
            "type": "string",
            "enum": [
              "read_only",
              "read_write"
            ],
            "default": "read_write",
            "description": "Access level to grant",
            "example": "read_write"
          }
        },
        "required": [
          "userId"
        ],
        "example": {
          "userId": "123e4567-e89b-12d3-a456-426614174001",
          "role": "member",
          "accessLevel": "read_write"
        }
      },
      "Prompt": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Unique identifier for the prompt",
            "example": 1
          },
          "creator_id": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the user who created the prompt",
            "example": "123e4567-e89b-12d3-a456-426614174001"
          },
          "name": {
            "type": "string",
            "description": "Name of the prompt",
            "example": "Blog Post Writer"
          },
          "prompt": {
            "type": "string",
            "description": "The actual prompt text",
            "example": "Write a blog post about {topic} with a focus on {focus}"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp when the prompt was created",
            "example": "2023-01-01T00:00:00Z"
          }
        },
        "example": {
          "id": 1,
          "creator_id": "123e4567-e89b-12d3-a456-426614174001",
          "name": "Blog Post Writer",
          "prompt": "Write a blog post about {topic} with a focus on {focus}",
          "created_at": "2023-01-01T00:00:00Z"
        }
      },
      "CreatePromptRequest": {
        "type": "object",
        "required": [
          "name",
          "prompt"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Name of the prompt",
            "example": "Blog Post Writer"
          },
          "prompt": {
            "type": "string",
            "description": "The actual prompt text",
            "example": "Write a blog post about {topic} with a focus on {focus}"
          }
        },
        "example": {
          "name": "Blog Post Writer",
          "prompt": "Write a blog post about {topic} with a focus on {focus}"
        }
      },
      "UpdatePromptRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Updated name for the prompt",
            "example": "Updated Blog Post Writer"
          },
          "prompt": {
            "type": "string",
            "description": "Updated prompt text",
            "example": "Write a professionally styled blog post about {topic} with a focus on {focus}"
          }
        },
        "example": {
          "name": "Updated Blog Post Writer",
          "prompt": "Write a professionally styled blog post about {topic} with a focus on {focus}"
        }
      },
      "CreateSnapshotRequest": {
        "type": "object",
        "description": "Request body for creating a new snapshot",
        "required": [
          "vmSessionId",
          "name"
        ],
        "properties": {
          "vmSessionId": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the VM session to snapshot",
            "example": "a1b2c3d4-e5f6-7890-abcd-ef1234567890"
          },
          "name": {
            "type": "string",
            "minLength": 1,
            "maxLength": 255,
            "description": "Human-readable name for the snapshot",
            "example": "Pre-deployment backup"
          },
          "description": {
            "type": "string",
            "maxLength": 1000,
            "description": "Optional description of the snapshot",
            "example": "Snapshot before deploying version 2.0"
          },
          "type": {
            "type": "string",
            "enum": [
              "full",
              "state-only",
              "template",
              "user-session",
              "checkpoint"
            ],
            "description": "Type of snapshot to create",
            "default": "full",
            "example": "full"
          }
        },
        "example": {
          "vmSessionId": "a1b2c3d4-e5f6-7890-abcd-ef1234567890",
          "name": "Pre-deployment backup",
          "description": "Snapshot before deploying version 2.0",
          "type": "full"
        }
      },
      "LoadSnapshotRequest": {
        "type": "object",
        "description": "Request body for loading a VM from snapshot",
        "required": [
          "snapshotId",
          "repositoryId"
        ],
        "properties": {
          "snapshotId": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the snapshot to load",
            "example": "b2c3d4e5-f6g7-8901-bcde-f23456789012"
          },
          "repositoryId": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the repository to associate with the new VM",
            "example": "c3d4e5f6-g7h8-9012-cdef-345678901234"
          },
          "userId": {
            "type": "string",
            "format": "uuid",
            "description": "Optional user ID (usually derived from auth)",
            "example": "d4e5f6g7-h8i9-0123-def0-456789012345"
          }
        },
        "example": {
          "snapshotId": "b2c3d4e5-f6g7-8901-bcde-f23456789012",
          "repositoryId": "c3d4e5f6-g7h8-9012-cdef-345678901234",
          "userId": "d4e5f6g7-h8i9-0123-def0-456789012345"
        }
      },
      "Subscription": {
        "type": "object",
        "description": "User subscription information",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Unique identifier for the subscription",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "userId": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the user this subscription belongs to",
            "example": "123e4567-e89b-12d3-a456-426614174001"
          },
          "stripeSubscriptionId": {
            "type": "string",
            "description": "Stripe subscription identifier",
            "example": "sub_1234567890"
          },
          "planType": {
            "type": "string",
            "description": "Type of subscription plan",
            "example": "pro"
          },
          "status": {
            "type": "string",
            "description": "Current status of the subscription",
            "enum": [
              "active",
              "canceled",
              "past_due",
              "unpaid",
              "trialing"
            ],
            "example": "active"
          },
          "current_period_start": {
            "type": "string",
            "format": "date-time",
            "description": "Start date of the current billing period",
            "example": "2023-01-01T00:00:00Z"
          },
          "current_period_end": {
            "type": "string",
            "format": "date-time",
            "description": "End date of the current billing period",
            "example": "2023-02-01T00:00:00Z"
          }
        },
        "example": {
          "id": "123e4567-e89b-12d3-a456-426614174000",
          "userId": "123e4567-e89b-12d3-a456-426614174001",
          "stripeSubscriptionId": "sub_1234567890",
          "planType": "pro",
          "status": "active",
          "current_period_start": "2023-01-01T00:00:00Z",
          "current_period_end": "2023-02-01T00:00:00Z"
        }
      },
      "NewSubscription": {
        "type": "object",
        "description": "Data for creating a new subscription",
        "required": [
          "userId",
          "stripeSubscriptionId",
          "planType",
          "status",
          "current_period_start",
          "current_period_end"
        ],
        "properties": {
          "userId": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the user this subscription belongs to",
            "example": "123e4567-e89b-12d3-a456-426614174001"
          },
          "stripeSubscriptionId": {
            "type": "string",
            "description": "Stripe subscription identifier",
            "example": "sub_1234567890"
          },
          "planType": {
            "type": "string",
            "description": "Type of subscription plan",
            "example": "pro"
          },
          "status": {
            "type": "string",
            "description": "Current status of the subscription",
            "enum": [
              "active",
              "canceled",
              "past_due",
              "unpaid",
              "trialing"
            ],
            "example": "active"
          },
          "current_period_start": {
            "type": "string",
            "format": "date-time",
            "description": "Start date of the current billing period",
            "example": "2023-01-01T00:00:00Z"
          },
          "current_period_end": {
            "type": "string",
            "format": "date-time",
            "description": "End date of the current billing period",
            "example": "2023-02-01T00:00:00Z"
          }
        },
        "example": {
          "userId": "123e4567-e89b-12d3-a456-426614174001",
          "stripeSubscriptionId": "sub_1234567890",
          "planType": "pro",
          "status": "active",
          "current_period_start": "2023-01-01T00:00:00Z",
          "current_period_end": "2023-02-01T00:00:00Z"
        }
      },
      "UpdateSubscription": {
        "type": "object",
        "description": "Data for updating an existing subscription",
        "properties": {
          "stripeSubscriptionId": {
            "type": "string",
            "description": "Stripe subscription identifier",
            "example": "sub_1234567890"
          },
          "planType": {
            "type": "string",
            "description": "Type of subscription plan",
            "example": "premium"
          },
          "status": {
            "type": "string",
            "description": "Current status of the subscription",
            "enum": [
              "active",
              "canceled",
              "past_due",
              "unpaid",
              "trialing"
            ],
            "example": "past_due"
          },
          "current_period_start": {
            "type": "string",
            "format": "date-time",
            "description": "Start date of the current billing period",
            "example": "2023-01-15T00:00:00Z"
          },
          "current_period_end": {
            "type": "string",
            "format": "date-time",
            "description": "End date of the current billing period",
            "example": "2023-02-15T00:00:00Z"
          }
        },
        "example": {
          "stripeSubscriptionId": "sub_1234567890",
          "planType": "premium",
          "status": "past_due",
          "current_period_start": "2023-01-15T00:00:00Z",
          "current_period_end": "2023-02-15T00:00:00Z"
        }
      },
      "RefundRequest": {
        "type": "object",
        "description": "Request to process a refund for a subscription",
        "required": [
          "amount"
        ],
        "properties": {
          "amount": {
            "type": "number",
            "description": "Amount to be refunded",
            "example": 29.99
          },
          "reason": {
            "type": "string",
            "description": "Reason for the refund",
            "example": "Customer request"
          }
        },
        "example": {
          "amount": 29.99,
          "reason": "Customer request"
        }
      },
      "Translation": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Unique identifier for the translation experiment",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "creatorId": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the user who created this translation",
            "example": "456e7890-e89b-12d3-a456-426614174001"
          },
          "name": {
            "type": "string",
            "description": "Display name for the translation experiment",
            "example": "Homepage Multi-language"
          },
          "description": {
            "type": "string",
            "description": "Optional description of the translation experiment",
            "example": "Multi-language homepage for global audience"
          },
          "rootCompositionId": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the original composition being translated",
            "example": "789e0123-e89b-12d3-a456-426614174002"
          },
          "rootLanguage": {
            "type": "string",
            "description": "Original language code of the composition",
            "example": "en"
          },
          "status": {
            "type": "string",
            "enum": [
              "draft",
              "active",
              "paused",
              "completed"
            ],
            "description": "Current status of the translation experiment",
            "example": "active"
          },
          "embedCode": {
            "type": "string",
            "description": "Generated embed code for the translation experiment",
            "example": "tr_123456"
          },
          "selectedLanguages": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Array of language codes included in this experiment",
            "example": [
              "en",
              "es",
              "fr",
              "de"
            ]
          },
          "totalViews": {
            "type": "integer",
            "minimum": 0,
            "description": "Total number of views across all language variants",
            "example": 1500
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "When the translation was created",
            "example": "2024-01-15T09:00:00Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "When the translation was last updated",
            "example": "2024-01-15T09:00:00Z"
          },
          "variants": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TranslationVariant"
            },
            "description": "Associated translation variants for each language"
          }
        },
        "example": {
          "id": "123e4567-e89b-12d3-a456-426614174000",
          "creatorId": "456e7890-e89b-12d3-a456-426614174001",
          "name": "Homepage Multi-language",
          "description": "Multi-language homepage for global audience",
          "rootCompositionId": "789e0123-e89b-12d3-a456-426614174002",
          "rootLanguage": "en",
          "status": "active",
          "embedCode": "tr_123456",
          "selectedLanguages": [
            "en",
            "es",
            "fr",
            "de"
          ],
          "totalViews": 1500,
          "createdAt": "2024-01-15T09:00:00Z",
          "updatedAt": "2024-01-15T09:00:00Z",
          "variants": [
            "Example TranslationVariant"
          ]
        }
      },
      "TranslationVariant": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Unique identifier for the translation variant",
            "example": "789e0123-e89b-12d3-a456-426614174002"
          },
          "translationId": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the parent translation experiment",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "compositionId": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the translated composition",
            "example": "456e7890-e89b-12d3-a456-426614174003"
          },
          "languageCode": {
            "type": "string",
            "description": "Language code for this variant",
            "example": "es"
          },
          "languageName": {
            "type": "string",
            "description": "Human-readable language name",
            "example": "Spanish"
          },
          "isRoot": {
            "type": "boolean",
            "description": "Whether this is the original/root language variant",
            "example": false
          },
          "embedCode": {
            "type": "string",
            "description": "Generated embed code for this language variant",
            "example": "tr_123456_es"
          },
          "totalViews": {
            "type": "integer",
            "minimum": 0,
            "description": "Total number of views for this language variant",
            "example": 375
          },
          "status": {
            "type": "string",
            "enum": [
              "active",
              "translating",
              "error"
            ],
            "description": "Current status of this translation variant",
            "example": "active"
          },
          "translationProgress": {
            "type": "number",
            "minimum": 0,
            "maximum": 100,
            "description": "Translation completion progress percentage",
            "example": 100
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "When the variant was created",
            "example": "2024-01-15T09:00:00Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "When the variant was last updated",
            "example": "2024-01-15T09:00:00Z"
          }
        },
        "example": {
          "id": "789e0123-e89b-12d3-a456-426614174002",
          "translationId": "123e4567-e89b-12d3-a456-426614174000",
          "compositionId": "456e7890-e89b-12d3-a456-426614174003",
          "languageCode": "es",
          "languageName": "Spanish",
          "isRoot": false,
          "embedCode": "tr_123456_es",
          "totalViews": 375,
          "status": "active",
          "translationProgress": 100,
          "createdAt": "2024-01-15T09:00:00Z",
          "updatedAt": "2024-01-15T09:00:00Z"
        }
      },
      "CreateTranslation": {
        "type": "object",
        "required": [
          "name",
          "rootCompositionId",
          "rootLanguage",
          "selectedLanguages"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Display name for the translation experiment",
            "example": "Homepage Multi-language"
          },
          "description": {
            "type": "string",
            "description": "Optional description of the translation experiment",
            "example": "Multi-language homepage for global audience"
          },
          "rootCompositionId": {
            "type": "string",
            "format": "uuid",
            "description": "ID of the original composition being translated",
            "example": "789e0123-e89b-12d3-a456-426614174002"
          },
          "rootLanguage": {
            "type": "string",
            "description": "Original language code of the composition",
            "example": "en"
          },
          "selectedLanguages": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Array of language codes to include in this experiment",
            "example": [
              "en",
              "es",
              "fr",
              "de"
            ],
            "minItems": 1
          }
        },
        "example": {
          "name": "Homepage Multi-language",
          "description": "Multi-language homepage for global audience",
          "rootCompositionId": "789e0123-e89b-12d3-a456-426614174002",
          "rootLanguage": "en",
          "selectedLanguages": [
            "en",
            "es",
            "fr",
            "de"
          ]
        }
      },
      "UIComponent": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "enum": [
              "widget-creator",
              "composition-editor",
              "embed-editor"
            ],
            "description": "Component identifier"
          },
          "name": {
            "type": "string",
            "description": "Display name of the component"
          },
          "version": {
            "type": "string",
            "description": "Component version"
          },
          "url": {
            "type": "string",
            "format": "uri",
            "description": "URL to load the component bundle"
          },
          "manifest": {
            "type": "string",
            "format": "uri",
            "description": "URL to the component manifest"
          }
        },
        "example": {
          "id": "Example id",
          "name": "Example name",
          "version": "Example version",
          "url": "Example url",
          "manifest": "Example manifest"
        }
      },
      "ComponentManifest": {
        "type": "object",
        "properties": {
          "version": {
            "type": "string",
            "description": "Component version"
          },
          "dependencies": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Required dependencies"
          },
          "assets": {
            "type": "object",
            "properties": {
              "js": {
                "type": "array",
                "items": {
                  "type": "string",
                  "format": "uri"
                }
              },
              "css": {
                "type": "array",
                "items": {
                  "type": "string",
                  "format": "uri"
                }
              }
            }
          },
          "config": {
            "type": "object",
            "properties": {
              "supportedEvents": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "allowedDomains": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "requiredPermissions": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            }
          }
        },
        "example": {
          "version": "Example version",
          "dependencies": [],
          "assets": {},
          "config": {}
        }
      },
      "MountRequest": {
        "type": "object",
        "required": [
          "container"
        ],
        "properties": {
          "container": {
            "type": "string",
            "description": "DOM element ID to mount the component"
          },
          "theme": {
            "type": "object",
            "properties": {
              "mode": {
                "type": "string",
                "enum": [
                  "light",
                  "dark"
                ]
              },
              "colors": {
                "type": "object",
                "properties": {
                  "primary": {
                    "type": "string"
                  },
                  "secondary": {
                    "type": "string"
                  },
                  "background": {
                    "type": "string"
                  },
                  "text": {
                    "type": "string"
                  }
                }
              },
              "typography": {
                "type": "object",
                "properties": {
                  "fontFamily": {
                    "type": "string"
                  },
                  "fontSize": {
                    "type": "string"
                  }
                }
              }
            }
          },
          "callbacks": {
            "type": "object",
            "description": "Event callback functions"
          }
        },
        "example": {
          "container": "Example container",
          "theme": {},
          "callbacks": {}
        }
      },
      "MountResponse": {
        "type": "object",
        "properties": {
          "instanceId": {
            "type": "string",
            "format": "uuid",
            "description": "Unique identifier for the mounted instance"
          },
          "mountStatus": {
            "type": "string",
            "enum": [
              "success",
              "error"
            ],
            "description": "Status of the mount operation"
          }
        },
        "example": {
          "instanceId": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
          "mountStatus": "Example mountStatus"
        }
      },
      "GenerateComponentWorkflowInput": {
        "type": "object",
        "description": "Input parameters for initiating the initial component generation workflow.",
        "required": [
          "widgetId",
          "componentId",
          "initialRequirements"
        ],
        "properties": {
          "widgetId": {
            "type": "string",
            "format": "uuid",
            "description": "The ID of the parent widget this component belongs to.",
            "example": "a1b2c3d4-e5f6-7890-1234-567890abcdef"
          },
          "componentId": {
            "type": "string",
            "format": "uuid",
            "description": "Client-generated unique ID for this specific component instance.",
            "example": "b2c3d4e5-f6a7-8901-2345-67890abcdef1"
          },
          "initialRequirements": {
            "type": "string",
            "minLength": 10,
            "description": "The initial user prompt or requirements for the component.",
            "example": "Create a responsive image gallery with thumbnails and a lightbox view."
          },
          "repositoryId": {
            "type": "string",
            "format": "uuid",
            "nullable": true,
            "description": "Optional ID of the repository. If omitted, attempts to derive from widgetId.",
            "example": "c3d4e5f6-a7b8-9012-3456-7890abcdef12"
          },
          "vmSessionId": {
            "type": "string",
            "format": "uuid",
            "nullable": true,
            "description": "Optional ID of the VM session. If omitted, attempts to find/create one.",
            "example": "d4e5f6a7-b8c9-0123-4567-890abcdef123"
          }
        },
        "example": {
          "widgetId": "a1b2c3d4-e5f6-7890-1234-567890abcdef",
          "componentId": "b2c3d4e5-f6a7-8901-2345-67890abcdef1",
          "initialRequirements": "Create a responsive image gallery with thumbnails and a lightbox view.",
          "repositoryId": "c3d4e5f6-a7b8-9012-3456-7890abcdef12",
          "vmSessionId": "d4e5f6a7-b8c9-0123-4567-890abcdef123"
        }
      },
      "GenerateMixedComponentInput": {
        "type": "object",
        "description": "Input parameters for initiating the component generation from mix workflow.",
        "required": [
          "widgetId",
          "repositoryId",
          "sourceComponentIds",
          "userPrompt"
        ],
        "properties": {
          "widgetId": {
            "type": "string",
            "format": "uuid",
            "description": "The ID of the parent widget this component belongs to.",
            "example": "a1b2c3d4-e5f6-7890-1234-567890abcdef"
          },
          "repositoryId": {
            "type": "string",
            "format": "uuid",
            "description": "The ID of the repository associated with the widget.",
            "example": "c3d4e5f6-a7b8-9012-3456-7890abcdef12"
          },
          "sourceComponentIds": {
            "type": "array",
            "items": {
              "type": "string",
              "format": "uuid"
            },
            "minItems": 1,
            "description": "Array of component IDs to use as source/reference.",
            "example": [
              "b2c3d4e5-f6a7-8901-2345-67890abcdef1",
              "b3c4d5e6-f7a8-9012-3456-7890abcdef2"
            ]
          },
          "userPrompt": {
            "type": "string",
            "minLength": 10,
            "description": "User's prompt describing how to mix/combine the sources.",
            "example": "Combine the button from component A with the input field from component B."
          },
          "newComponentName": {
            "type": "string",
            "nullable": true,
            "description": "Optional specific name for the new component to be created.",
            "example": "MixedButtonInput"
          },
          "vmSessionId": {
            "type": "string",
            "format": "uuid",
            "nullable": true,
            "description": "Optional ID of the VM session. If omitted, attempts to find/create one.",
            "example": "d4e5f6a7-b8c9-0123-4567-890abcdef123"
          }
        },
        "example": {
          "widgetId": "a1b2c3d4-e5f6-7890-1234-567890abcdef",
          "repositoryId": "c3d4e5f6-a7b8-9012-3456-7890abcdef12",
          "sourceComponentIds": [
            "b2c3d4e5-f6a7-8901-2345-67890abcdef1",
            "b3c4d5e6-f7a8-9012-3456-7890abcdef2"
          ],
          "userPrompt": "Combine the button from component A with the input field from component B.",
          "newComponentName": "MixedButtonInput",
          "vmSessionId": "d4e5f6a7-b8c9-0123-4567-890abcdef123"
        }
      },
      "WorkflowAcceptedResponse": {
        "type": "object",
        "description": "Response indicating the workflow has been accepted and initiated.",
        "properties": {
          "workflowId": {
            "type": "string",
            "format": "uuid",
            "description": "A unique identifier for this workflow instance (e.g., the planId).",
            "example": "e5f6a7b8-c9d0-1234-5678-90abcdef1234"
          },
          "message": {
            "type": "string",
            "description": "A message indicating the workflow has started.",
            "example": "Component generation workflow initiated successfully."
          }
        },
        "example": {
          "workflowId": "e5f6a7b8-c9d0-1234-5678-90abcdef1234",
          "message": "Component generation workflow initiated successfully."
        }
      },
      "NewWidget": {
        "type": "object",
        "description": "Payload used to create a new widget.",
        "required": [
          "name",
          "type",
          "content"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Name of the widget.",
            "example": "New Chart Widget"
          },
          "description": {
            "type": "string",
            "nullable": true,
            "description": "Description of the widget.",
            "example": "Interactive chart widget for data visualization"
          },
          "type": {
            "type": "string",
            "description": "Type of widget being created.",
            "example": "chart"
          },
          "content": {
            "type": "object",
            "description": "Initial content configuration for the widget.",
            "additionalProperties": true,
            "example": {
              "chartType": "bar",
              "dataSource": "api"
            }
          },
          "isPublic": {
            "type": "boolean",
            "description": "Whether the widget is publicly available.",
            "example": false
          },
          "isDraft": {
            "type": "boolean",
            "description": "Whether the widget should start as a draft.",
            "example": true
          },
          "canvasId": {
            "type": "string",
            "format": "uuid",
            "nullable": true,
            "description": "Optional ID of an existing canvas to associate with the widget.",
            "example": "abc12345-def6-7890-ab12-cd3456ef7890"
          },
          "jsPath": {
            "type": "string",
            "nullable": true,
            "description": "Path to the JavaScript file for this widget.",
            "example": "/widgets/chart/main.js"
          },
          "repoId": {
            "type": "string",
            "nullable": true,
            "description": "Repository identifier for managing the widget's source code.",
            "example": "user/chart-widget"
          },
          "version": {
            "type": "number",
            "format": "float",
            "nullable": true,
            "description": "Optional version number for the widget.",
            "example": 1
          },
          "componentsMetadata": {
            "type": "array",
            "nullable": true,
            "description": "Optional metadata for components created with the widget.",
            "items": {
              "type": "object",
              "properties": {
                "componentId": {
                  "type": "string",
                  "format": "uuid"
                },
                "path": {
                  "type": "string"
                },
                "planId": {
                  "type": "string",
                  "format": "uuid"
                },
                "status": {
                  "type": "string",
                  "nullable": true
                },
                "position": {
                  "type": "object",
                  "nullable": true,
                  "properties": {
                    "x": {
                      "type": "number"
                    },
                    "y": {
                      "type": "number"
                    }
                  }
                },
                "size": {
                  "type": "object",
                  "nullable": true,
                  "properties": {
                    "width": {
                      "type": "number"
                    },
                    "height": {
                      "type": "number"
                    }
                  }
                }
              }
            }
          },
          "cpgSchemaId": {
            "type": "string",
            "nullable": true,
            "description": "Optional code graph schema identifier.",
            "example": "cpg_4b3a2d1f9e8c7b6a"
          },
          "lastCpgCommitSha": {
            "type": "string",
            "nullable": true,
            "description": "Optional Git commit SHA of the last code graph analysis.",
            "example": "a1b2c3d4e5f6g7h8i9j0"
          },
          "vmTemplateId": {
            "type": "string",
            "nullable": true,
            "description": "ID of the VM template to use when provisioning a development environment.",
            "example": "tmpl_9f8e7d6c5b4a"
          },
          "vmTemplateVersion": {
            "type": "string",
            "nullable": true,
            "description": "Version of the VM template.",
            "example": "v2.3.0"
          },
          "vmTemplateType": {
            "type": "string",
            "nullable": true,
            "description": "Type of VM template (e.g., base, development).",
            "example": "development"
          },
          "organizationId": {
            "type": "string",
            "format": "uuid",
            "nullable": true,
            "description": "Organization workspace ID, if applicable.",
            "example": "5e2d3f4a-1b6c-4a1f-8b9c-3c2d4e5f6a7b"
          },
          "projectFolder": {
            "type": "string",
            "nullable": true,
            "description": "Project folder reference within the organization workspace.",
            "example": "marketing/q4-launch"
          },
          "workspaceType": {
            "type": "string",
            "enum": [
              "personal",
              "organization"
            ],
            "nullable": true,
            "description": "Workspace type where the widget will live.",
            "example": "personal"
          }
        },
        "example": {
          "name": "New Chart Widget",
          "description": "Interactive chart widget for data visualization",
          "type": "chart",
          "content": {
            "chartType": "bar",
            "dataSource": "api"
          },
          "isPublic": false,
          "isDraft": true,
          "canvasId": "abc12345-def6-7890-ab12-cd3456ef7890",
          "jsPath": "/widgets/chart/main.js",
          "repoId": "user/chart-widget",
          "version": 1,
          "componentsMetadata": [],
          "cpgSchemaId": "cpg_4b3a2d1f9e8c7b6a",
          "lastCpgCommitSha": "a1b2c3d4e5f6g7h8i9j0",
          "vmTemplateId": "tmpl_9f8e7d6c5b4a",
          "vmTemplateVersion": "v2.3.0",
          "vmTemplateType": "development",
          "organizationId": "5e2d3f4a-1b6c-4a1f-8b9c-3c2d4e5f6a7b",
          "projectFolder": "marketing/q4-launch",
          "workspaceType": "personal"
        }
      },
      "UpdateWidget": {
        "type": "object",
        "description": "Payload used to update an existing widget. All fields are optional.",
        "properties": {
          "name": {
            "type": "string",
            "description": "Updated name of the widget.",
            "example": "Updated Chart Widget"
          },
          "description": {
            "type": "string",
            "nullable": true,
            "description": "Updated description of the widget.",
            "example": "Improved interactive chart widget"
          },
          "type": {
            "type": "string",
            "description": "Updated widget type.",
            "example": "advanced-chart"
          },
          "content": {
            "type": "object",
            "description": "Updated content configuration for the widget.",
            "additionalProperties": true,
            "example": {
              "chartType": "line",
              "dataSource": "api"
            }
          },
          "isPublic": {
            "type": "boolean",
            "description": "Updated public visibility of the widget.",
            "example": true
          },
          "isDraft": {
            "type": "boolean",
            "description": "Updated draft status of the widget.",
            "example": false
          },
          "jsPath": {
            "type": "string",
            "nullable": true,
            "description": "Updated JavaScript file path for the widget.",
            "example": "/widgets/chart/updated.js"
          },
          "canvasId": {
            "type": "string",
            "format": "uuid",
            "nullable": true,
            "description": "Updated canvas association for the widget.",
            "example": "9f0c6b54-3e8f-4a2a-8b7d-1c5c6d9e0a1b"
          },
          "repoId": {
            "type": "string",
            "nullable": true,
            "description": "Updated repository identifier for the widget's source code.",
            "example": "user/chart-widget-v2"
          },
          "databaseId": {
            "type": "string",
            "nullable": true,
            "description": "Updated Neon database ID associated with the widget (normally managed internally).",
            "example": "widget_3fa85f64_5717_4562_b3fc_2c963f66afa6"
          },
          "version": {
            "type": "number",
            "format": "float",
            "nullable": true,
            "description": "Updated version number of the widget.",
            "example": 1.1
          },
          "shareId": {
            "type": "string",
            "nullable": true,
            "description": "Updated share ID for public access.",
            "example": "shwgt_b8c7d6e5f4"
          },
          "componentsMetadata": {
            "type": "array",
            "nullable": true,
            "description": "Updated component metadata associated with the widget.",
            "items": {
              "type": "object",
              "properties": {
                "componentId": {
                  "type": "string",
                  "format": "uuid"
                },
                "path": {
                  "type": "string"
                },
                "planId": {
                  "type": "string",
                  "format": "uuid"
                },
                "status": {
                  "type": "string",
                  "nullable": true
                },
                "position": {
                  "type": "object",
                  "nullable": true,
                  "properties": {
                    "x": {
                      "type": "number"
                    },
                    "y": {
                      "type": "number"
                    }
                  }
                },
                "size": {
                  "type": "object",
                  "nullable": true,
                  "properties": {
                    "width": {
                      "type": "number"
                    },
                    "height": {
                      "type": "number"
                    }
                  }
                }
              }
            }
          },
          "cpgSchemaId": {
            "type": "string",
            "nullable": true,
            "description": "Updated code graph schema ID.",
            "example": "cpg_4b3a2d1f9e8c7b6a"
          },
          "lastCpgCommitSha": {
            "type": "string",
            "nullable": true,
            "description": "Updated Git commit SHA used for the last code graph analysis.",
            "example": "b1c2d3e4f5g6h7i8j9k0"
          },
          "vmTemplateId": {
            "type": "string",
            "nullable": true,
            "description": "Updated VM template ID.",
            "example": "tmpl_1a2b3c4d5e"
          },
          "vmTemplateVersion": {
            "type": "string",
            "nullable": true,
            "description": "Updated VM template version."
          }
        },
        "example": {
          "name": "Updated Chart Widget",
          "description": "Improved interactive chart widget",
          "type": "advanced-chart",
          "content": {
            "chartType": "line",
            "dataSource": "api"
          },
          "isPublic": true,
          "isDraft": false,
          "jsPath": "/widgets/chart/updated.js",
          "canvasId": "9f0c6b54-3e8f-4a2a-8b7d-1c5c6d9e0a1b",
          "repoId": "user/chart-widget-v2",
          "databaseId": "widget_3fa85f64_5717_4562_b3fc_2c963f66afa6",
          "version": 1.1,
          "shareId": "shwgt_b8c7d6e5f4",
          "componentsMetadata": [],
          "cpgSchemaId": "cpg_4b3a2d1f9e8c7b6a",
          "lastCpgCommitSha": "b1c2d3e4f5g6h7i8j9k0",
          "vmTemplateId": "tmpl_1a2b3c4d5e",
          "vmTemplateVersion": "Example vmTemplateVersion"
        }
      }
    },
    "securitySchemes": {
      "apiKeyAuth": {
        "type": "apiKey",
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "in": "header",
        "name": "Authorization"
      },
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      },
      "BearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      },
      "ApiKeyAuth": {
        "type": "apiKey",
        "in": "header",
        "name": "Authorization"
      },
      "webhookSignature": {
        "type": "apiKey",
        "in": "header",
        "name": "X-Webhook-Signature"
      }
    },
    "responses": {
      "UnauthorizedError": {
        "description": "API key is missing or invalid"
      },
      "NotFoundError": {
        "description": "The requested resource was not found"
      },
      "ForbiddenError": {
        "description": "You are not authorized to perform this action"
      }
    }
  },
  "tags": []
}